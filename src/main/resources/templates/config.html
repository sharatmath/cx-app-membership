<!DOCTYPE HTML>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8"/>
	<title>CONFIGURE OFFER & AUDIENCE SELECTION</title>

	<link rel="stylesheet" href="https://oracle.kakatoa.net/assets/css/all.min.css" crossorigin="anonymous">
	<link rel="stylesheet" href="https://oracle.kakatoa.net/assets/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://oracle.kakatoa.net/assets/css/select2.min.css" />
	<link rel="stylesheet" href="https://oracle.kakatoa.net/assets/css/bootstrap-datepicker.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
	<link rel="stylesheet" href="https://oracle.kakatoa.net/assets/css/select2-bootstrap4.min.css">
	<link rel="shortcut icon" href="https://oracle.kakatoa.net/image/favicon.ico" type="image/vnd.microsoft.icon"/>

	<style>
		.fa-asterisk {
			color: red !important;
			width: 8px !important;
		}

		.card-header {
			background-color: #4d3c57 !important;
			color: white !important;
			background-image:
					url(https://static.cdn.responsys.net/i8/21B000389.02/suite/suite/build/production/Suite/resources/uif/theme-alta/images/textured_bg.svg?v=21B000389.02);
		}

		.card-header:hover {
			background-color: #4d3c57 !important;
			color: white !important;
		}

		/*Accordion Custom BEGIN*/
		#main {
			margin: 50px 0;
		}

		#main #faq .card {
			margin-bottom: 30px;
			border: 0;
		}

		#main #faq .card .card-header {
			border: 0;
			-webkit-box-shadow: 0 0 20px 0 rgba(213, 213, 213, 0.5);
			box-shadow: 0 0 20px 0 rgba(213, 213, 213, 0.5);
			border-radius: 2px;
			padding: 0;
		}

		#main #faq .card .card-header .btn-header-link {
			color: #fff;
			display: block;
			text-align: left;
			background: #8e9cb7;
			color: #222;
			padding: 20px;
		}

		#main #faq .card .card-header .btn-header-link:after {
			content: "\f107";
			font-family: 'Font Awesome 5 Free';
			font-weight: 900;
			float: right;
		}

		#main #faq .card .card-header .btn-header-link.collapsed {
			background: #da7200 !important;
			color: #fff;
		}

		#main #faq .card .card-header .btn-header-link.collapsed:after {
			content: "\f106";
		}

		#main #faq .card .collapsing {
			background: #8e9cb7;
			line-height: 30px;
		}

		#main #faq .card .collapse {
			border: 0;
		}

		#main #faq .card .collapse.show {
			background: #8e9cb7;
			line-height: 30px;
			color: #222;
		}

		/*Accordion Custom END*/

		/*Accordion PROMO BEGIN*/
		#main #prom .card {
			margin-bottom: 30px;
			border: 0;
		}

		#main #prom .card .card-header {
			border: 0;
			-webkit-box-shadow: 0 0 20px 0 rgba(213, 213, 213, 0.5);
			box-shadow: 0 0 20px 0 rgba(213, 213, 213, 0.5);
			border-radius: 2px;
			padding: 0;
		}

		#main #prom .card .card-header .btn-header-link {
			color: #fff;
			display: block;
			text-align: left;
			background: #8e9cb7;
			color: #222;
			padding: 20px;
		}

		#main #prom .card .card-header .btn-header-link:after {
			content: "\f107";
			font-family: 'Font Awesome 5 Free';
			font-weight: 900;
			float: right;
		}

		#main #prom .card .card-header .btn-header-link.collapsed {
			background: #da7200 !important;
			color: #fff;
		}

		#main #prom .card .card-header .btn-header-link.collapsed:after {
			content: "\f106";
		}

		#main #prom .card .collapsing {
			background: #8e9cb7;
			line-height: 30px;
		}

		#main #prom .card .collapse {
			border: 0;
		}

		#main #prom .card .collapse.show {
			background: #8e9cb7;
			line-height: 30px;
			color: #222;
		}
		/*Accordion PROMO END*/
		body {
			font-family: Arial, Helvetica, sans-serif;
		}

		/* The Modal (background) */
		.modal {
			display: none; /* Hidden by default */
			position: fixed; /* Stay in place */
			z-index: 1; /* Sit on top */
			padding-top: 0px; /* Location of the box */
			left: 0;
			top: 0;
			width: 100%; /* Full width */
			height: 100%; /* Full height */
			overflow: auto; /* Enable scroll if needed */
			/* background-color: rgb(0,0,0); */ /* Fallback color */
			/* background-color: rgba(0,0,0,0.0); */ /* Black w/ opacity */
		}

		.modal-backdrop {
			background-color: rgba(0, 0, 0, .0001) !important;
		}

		/* Modal Content */
		.modal-content {
			background-color: #fefefe;
			margin: auto;
			padding: 20px;
			border: 1px solid #888;
			width: 80%;
		}

		/* Important part */
		.modal-dialog {
			overflow-y: initial !important
		}

		.modal-body {
			height: 80vh;
			overflow-y: auto;
		}

		/* The Close Button */
		.close {
			color: #aaaaaa;
			float: right;
			font-size: 28px;
			font-weight: bold;
		}

		.close:hover, .close:focus {
			color: #000;
			text-decoration: none;
			cursor: pointer;
		}

		.toggle-title {
			cursor: pointer !important;
		}

		/*Select2 Custom*/
		span.select2-selection.select2-selection--single {
			min-width: 120px !important;
		}

		.select2-container {
			margin: 5px !important;
		}

		.btn-singtel {
			color: #fff !important;
			background-color: #da7200 !important;
			border-color: #da7200 !important;
		}

		/* Advance filter styles */
		.tab-selected {
			color: rgb(0, 0, 0) !important;
			background-color: #ebeeff !important;
			border-color: #ebeeff !important;
			text-decoration: none;
			padding: 10px !important;
			border-radius: .25rem;
			font-size: medium;
		}

		.tab-unselected {
			color: rgb(0, 0, 0) !important;
			text-decoration: none;
			padding: 10px !important;
			font-size: medium;
		}

		.tab-card {
			background-color: #ebeeff !important;
			border-color: #ebeeff !important;
		}

		.modal-mask {
			position: fixed;
			z-index: 9998;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background-color: rgba(0, 0, 0, 0.1);
			display: table;
			transition: opacity 0.3s ease;
		}

		.modal-wrapper {
			display: table-cell;
			vertical-align: middle;
		}

		.modal-container {
			width: 54%;
			height: 40% !important;
			margin: 3% auto;
			padding: 10px 15px;
			background-color: #fff;
			border-radius: 2px;
			/* box-shadow: 0 2px 8px rgba(0, 0, 0, 0.33); */
			transition: all 0.3s ease;
			font-family: Helvetica, Arial, sans-serif;
		}

		.modal-header {
			margin-top: 0;
			color: #000000;
			padding: 5px;
		}

		.modal-body-add-data {
			margin: 2px 0;
			padding: 5px 0;
		}

		.modal-footer {
			/* border: none;
				margin-top: 3%;
				float: right;
				padding: 0; */
			border: none;
			position: fixed;
			bottom: 30%;
			right: 25%;
		}

		.modal-enter {
			opacity: 0;
		}

		.modal-leave-active {
			opacity: 0;
		}

		.modal-enter .modal-container, .modal-leave-active .modal-container {
			-webkit-transform: scale(1.1);
			transform: scale(1.1);
		}

		.advance-filter-container {
			min-height: 300px;
			padding: 3px;
		}

		.btn-create-group {
			color: #fff !important;
			background-color: #3791db !important;
			border-color: #3791db !important;
		}

		.selection-card {
			border-color: #ffffff !important;
		}

		.config-card {
			/* background-color: #fff !important; */
			padding: 8px;
		}

		.component-card {
			border-color: #cacaca !important;
			border: solid .3px;
			border-radius: 5px;
			border-width: medium;
			background-color: #fafafd;
			padding: 0.5%;
			margin-top: 2%;
			margin-left: 1px;
			/* min-height: 150px; */
		}

		.data-card {
			border-radius: 5px;
			border-width: medium;
			background-color: #ececfa;
			padding: 0px;
			margin-top: 5px;
		}

		.delete-component-btn {
			float: right;
		}

		.component-form {
			padding: 5px;
		}

		.operators {
			width: 35%;
			margin: 3px;
			background-color: white;
		}

		.basic-dropdown {
			width: 95%;
			margin: 3px;
			background-color: white;
		}

		.select-component-dropdown {
			background-color: white;
			max-height: 100px !important;
		}

		.hr-custom {
			margin-top: 5px;
			margin-bottom: 8px;
		}

		.input-custom {
			width: 95%;
			margin: 5px;
		}

		.label-component {
			margin-top: 10px;
			margin-bottom: 7px;
			padding: 0;
		}

		.dropdown-long {
			background-color: #fff;
			margin: 5px;
			margin-right: 15px
		}

		.data-type {
			padding: 7px;
			background-color: #dadef9;
			margin: 3px;
		}

		.btn-green {
			color: #fff !important;
			background-color: #28a745 !important;
			border-color: #28a745 !important;
		}
	</style>
</head>

<body>
<br>
<div class="container" x-data="{...configureMembership(), ...jQuery()}" x-init="[init(), initPage()]">
	<div class="row">
		<div class="col-md-12 mt-12 card">

			<div class="form-group">
				<h4 class="mt-3">
					<img src="https://oracle.kakatoa.net/assets/image/singtel_logo_coloured.png" style="max-height: 64px;"> Configure Offer & Audience Selection
				</h4>
			</div>

			<div class="form-group">
				<label for="typeData">Type : </label>
				<div class="form-group d-flex justify-content-between">
					<select id="typeData" class="form-control" x-model="type">
						<option value="directProvisioning">Direct Provisioning</option>
						<option value="offerMonitoringWithAssignment">Offer Monitoring with Offer Assignment</option>
						<option value="eventConditionDirectProvisioning">Event Condition With Direct Provisioning</option>
						<option value="eventCondition">Event Condition Only</option>
					</select>
				</div>
			</div>

			<div class="accordion DPForm" id="directProvisioning">
				<div class="card">
					<div class="card-header" id="headingSix">
						<div id="eventConditionAccordion" class="toggle-title collapsed"
							 data-toggle="collapse" data-target="#collapseSix">
							<h5>
								<i class="fa fa-plus"></i> Event Condition - <label
									x-show="['offerMonitoringWithAssignment', 'directProvisioning'].includes(type)">Not
								Applicable</label><label
									x-show="type == 'eventConditionDirectProvisioning'">Required</label><label
									x-show="type == 'eventCondition'">Required</label>
							</h5>
						</div>
					</div>
					<div id="collapseSix" class="collapse" aria-labelledby="headingSix" data-parent="#directProvisioning">
						<div class="card-body" x-show="type === 'eventConditionDirectProvisioning' || type === 'eventCondition'">
							<div x-show="eventConditionData">
								<div class="form-group row">
									<label for="isOfferLevelCapOnly" class="col-sm-2 col-form-label col-form-label">
										Event Fulfillment Date<sup><i class="fas fa-asterisk"></i></sup>
									</label>
									<div class="col-sm-10">
										<div class="row">
											<div class="col-sm-2">
												Start Date
											</div>
											<div class="col-sm-4">
												<div class="input-group date" data-provider="datepicker">
													<input type="datetime-local" class="form-control" id="eventConditionDataCampaignStarDate" x-model="campaignStartDate">
													<div class="input-group-addon">
														<span class="glyphicon glyphicon-th"></span>
													</div>
												</div>
											</div>
											<div class="col-sm-2">
												End Date
											</div>
											<div class="col-sm-4">
												<div class="input-group date" data-provider="datepicker">
													<input type="datetime-local" @keyup="eventEndDateValidate()" class="form-control" id="eventConditionDataCampaignEndDate" x-model="campaignEndDate">
													<div class="input-group-addon">
														<span class="glyphicon glyphicon-th"></span>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
								<div class="form-group">
									<div class="mb-3 row">
										<label for="eventConditionDataEventConditionName" class="col-sm-2 col-form-label">Event Condition Name<sup><i class="fas fa-asterisk"></i></sup></label>
										<div class="col-sm-8">
											<input type="text" @keyup="reValidateEvent()"  class="form-control" id="eventConditionDataEventConditionName" x-model="eventConditionName">
										</div>
										<div class="col-sm-2">
											<button @click="checkUniqueEventCondition" class="btn btn-singtel" id="validateEventCondition"><i class="fas fa-check-double"></i> Validate</button>
										</div>
									</div>
								</div>
								<div class="form-group">
									<div class="mb-3 row">
										<label for="eventConditionTypeData" class="col-sm-2 col-form-label">Event Condition Type<sup><i class="fas fa-asterisk"></i></sup></label>
										<div class="col-sm-10">
											<div class="form-group d-flex justify-content-between">
												<select class="form-control" id="eventConditionTypeData" x-model="eventConditionTypeData">
													<option value="Top-Up">Top-Up</option>
													<option value="Usage">Usage</option>
<!--													<option value="ARPU">ARPU</option>-->
												</select>
											</div>
										</div>
									</div>
								</div>
								<hr>
								<div x-show="eventConditionTypeData === 'Top-Up'">
									<div class="eventConditionFulfillmentMonitoring" id="eventConditionDataTopUpForm">
										<div class="form-group">
											<div class="mb-3 row">
												<label class="col-sm-2 col-form-label">Top-Up Type<sup><i class="fas fa-asterisk"></i></sup></label>
												<div class="col-sm-10">
													<div class="form-group d-flex justify-content-between">
														<select class="form-control" x-model="eventConditionData.topUpType">
															<option value="All">All</option>
															<option value="Paid">Paid</option>
															<option value="Non-Paid">Non-Paid</option>
															<option value="Data">Data</option>
														</select>
													</div>
												</div>
											</div>
										</div>
										<div class="mb-3 row">
											<label for="eventConditionDataOperators" class="col-sm-2 col-form-label">OPID</label>
											<div class="col-sm-10">
												<input type="text" class="form-control" id="eventConditionDataOperators" x-model="eventConditionData.operatorId">
											</div>
										</div>
										<div class="mb-3 row">
											<label for="eventConditionDataRefillProfileID" class="col-sm-2 col-form-label">Top-Up Code</label>
											<div class="col-sm-10">
												<input type="text" class="form-control" id="eventConditionDataRefillProfileID" x-model="eventConditionData.topUpCode">
											</div>
										</div>
										<div class="mb-3 row">
											<label for="topUpValue" class="col-sm-2 col-form-label">Top-Up Value</label>
											<div class="col-sm-5">
												<select id="eventConditionDataTopUpValueOperators" class="form-control" x-model="eventConditionData.topUpOp">
													<option value="lessThan">Less than</option>
													<option value="moreThan">More than</option>
													<option value="equalTo">Equal to</option>
													<option value="lessOrEqual">Less than or Equal to</option>
													<option value="moreOrEqualTo">More than or Equal to</option>
												</select>
											</div>
											<div class="col-sm-5" x-show="eventConditionData.topUpOp != 'equalTo'">
												<input type="text" class="form-control" id="eventConditionDataTopUpValue" x-model="eventConditionData.topUpTransactionValue">
											</div>
											<div class="col-sm-5" x-show="eventConditionData.topUpOp == 'equalTo'">
												<input type="number" class="form-control" x-model="eventConditionData.topUpTransactionValue">
											</div>
										</div>
										<div class="mb-3 row">
											<label for="eventConditionDataTopupCreditMethod" class="col-sm-2 col-form-label">Credit Method</label>
											<div class="col-sm-10">
												<input type="text" class="form-control" id="eventConditionDataTopupCreditMethod" x-model="eventConditionData.creditMethod">
											</div>
										</div>
										<div class="mb-3 row">
											<label for="eventConditionDataUsageServiceType" class="col-sm-2 col-form-label">Usage Service Type</label>
											<div class="col-sm-10">
												<input type="text" class="form-control" id="eventConditionDataUsageServiceType" x-model="eventConditionData.usageServiceType">
											</div>
										</div>
										<div class="mb-3 row">
											<label for="topUpValue" class="col-sm-2 col-form-label">Current Balance</label>
											<div class="col-sm-5">
												<select id="eventConditionDataCurrentBalanceOperators" class="form-control" x-model="eventConditionData.topUpCurBalanceOp">
													<option value="lessThan">Less than</option>
													<option value="moreThan">More than</option>
													<option value="equalTo">Equal to</option>
													<option value="lessOrEqual">Less than or Equal to</option>
													<option value="moreOrEqualTo">More than or Equal to</option>
												</select>
											</div>
											<div class="col-sm-5">
												<input type="text" class="form-control" id="eventConditionDataCurrentBalanceValue" x-model="eventConditionData.topUpCurBalanceValue">
											</div>
										</div>
										<div class="mb-3 row">
											<label for="topUpValue" class="col-sm-2 col-form-label">Account Balance Before</label>
											<div class="col-sm-5">
												<select id="eventConditionDataAccountBalanceOperators" class="form-control" x-model="eventConditionData.topUpAccBalanceBeforeOp">
													<option value="lessThan">Less than</option>
													<option value="moreThan">More than</option>
													<option value="equalTo">Equal to</option>
													<option value="lessOrEqual">Less than or Equal to</option>
													<option value="moreOrEqualTo">More than or Equal to</option>
												</select>
											</div>
											<div class="col-sm-5">
												<input type="text" class="form-control" id="eventConditionDataAccountBalanceValue" x-model="eventConditionData.topUpAccBalanceBeforeValue">
											</div>
										</div>
										<div class="mb-3 row">
											<label for="refillProfileID" class="col-sm-2 col-form-label">DA ID</label>
											<div class="col-sm-10">
												<input type="text" class="form-control" id="eventConditionDataDaID" x-model="eventConditionData.topUpDaId">
											</div>
										</div>
										<div class="mb-3 row">
											<label for="topUpValue" class="col-sm-2 col-form-label">DA Balance</label>
											<div class="col-sm-5">
												<select id="eventConditionDataTopUpDaBalanceOperators" class="form-control" x-model="eventConditionData.topUpDaBalanceOp">
													<option value="lessThan">Less than</option>
													<option value="moreThan">More than</option>
													<option value="equalTo">Equal to</option>
													<option value="lessOrEqual">Less than or Equal to</option>
													<option value="moreOrEqualTo">More than or Equal to</option>
												</select>
											</div>
											<div class="col-sm-5">
												<input type="text" class="form-control" id="eventConditionDataTopUpDaBalanceValue" x-model="eventConditionData.topUpDaBalanceValue">
											</div>
										</div>
										<div class="mb-3 row">
											<label class="col-sm-2 col-form-label">DA Expiry Date</label>
											<div class="col-sm-4">
												<div class="input-group date" data-provider="datepicker">
													<input type="datetime-local" class="form-control" x-model="daExpiryDate">
													<div class="input-group-addon">
														<span class="glyphicon glyphicon-th"></span>
													</div>
												</div>
											</div>
										</div>
										<div class="mb-3 row">
											<label for="topUpTempServiceClass" class="col-sm-2 col-form-label">Temporary Service Class</label>
											<div class="col-sm-10">
												<input type="text" class="form-control" id="topUpTempServiceClass" x-model="eventConditionData.topUpTempServiceClass">
											</div>
										</div>
										<div class="mb-3 row">
											<label for="permanentServiceClass" class="col-sm-2 col-form-label">Permanent Service Class</label>
											<div class="col-sm-10">
												<input type="text" class="form-control" id="permanentServiceClass" x-model="eventConditionData.permanentServiceClass">
											</div>
										</div>
									</div>
								</div>
								<div x-show="eventConditionTypeData === 'Usage'">
									<div class="eventConditionFulfillmentMonitoring" id="eventConditionDataUsageForm">
										<div class="mb-3 row">
											<label for="eventConditionDataUsageServiceTypeDropdown" class="col-sm-2 col-form-label">Usage Service Type<sup><i class="fas fa-asterisk"></i></sup></label>
											<div class="col-sm-10">
												<select id="eventConditionDataUsageServiceTypeDropdown" class="form-control" x-model="eventConditionData.usageServiceType">
													<option>Choose...</option>
													<option value="all">All ($)</option>
													<option value="voice">Voice</option>
													<option value="data">Data</option>
													<option value="SMS">SMS</option>
													<option value="IDD">IDD</option>
												</select>
											</div>
										</div>
										<div x-show="eventConditionData.usageServiceType === 'all'">
											<div class="mb-3 row">
												<label for="eventConditionDataUsageTypeVoice" class="col-sm-2 col-form-label">Usage Type</label>
												<div class="col-sm-10">
													<select multiple id="eventConditionDataUsageTypeAll">
														<option>Choose...</option>
														<option value="VOICE_COUNT">VOICE_COUNT</option>
														<option value="VOICE_MINS">VOICE_MINS</option>
														<option value="VOICE_AMOUNT">VOICE_AMOUNT</option>
														<option value="VOICE_OFFNET_COUNT">VOICE_OFFNET_COUNT</option>
														<option value="VOICE_OFFNET_MINS">VOICE_OFFNET_MINS</option>
														<option value="VOICE_OFFNET_AMOUNT">VOICE_OFFNET_AMOUNT</option>
														<option value="VOICE_ONNET_COUNT">VOICE_ONNET_COUNT</option>
														<option value="VOICE_ONNET_MINS">VOICE_ONNET_MINS</option>
														<option value="VOICE_ONNET_AMOUNT">VOICE_ONNET_AMOUNT</option>
														<option value="VOICE_INCOMING_COUNT">VOICE_INCOMING_COUNT</option>
														<option value="VOICE_INCOMING_MINS">VOICE_INCOMING_MINS</option>
														<option value="VOICE_INCOMING_AMOUNT">VOICE_INCOMING_AMOUNT</option>
														<option value="VOICE_LOCAL_USAGE">VOICE_LOCAL_USAGE</option>
														<option value="VOICE_LOCAL_DURATION">VOICE_LOCAL_DURATION</option>
														<option value="VOICE_IDD_USAGE">VOICE_IDD_USAGE</option>
														<option value="VOICE_IDD_DURATION">VOICE_IDD_DURATION</option>
														<option value="DATA_VOLUME">DATA_VOLUME</option>
														<option value="DATA_AMOUNT">DATA_AMOUNT</option>
														<option value="DATA_LOCAL_USAGE">DATA_LOCAL_USAGE</option>
														<option value="DATA_LOCAL_DURATION">DATA_LOCAL_DURATION</option>
														<option value="DATA_ROAMING_USAGE">DATA_ROAMING_USAGE</option>
														<option value="DATA_ROAMING">DATA_ROAMING_DURATION</option>
														<option value="SMS_ALL_COUNT">SMS_ALL_COUNT</option>
														<option value="SMS_ALL_AMOUNT">SMS_ALL_AMOUNT</option>
														<option value="SMS_OFFNET_COUNT">SMS_OFFNET_COUNT</option>
														<option value="SMS_OFFNET_AMOUNT">SMS_OFFNET_AMOUNT</option>
														<option value="SMS_ONNET_COUNT">SMS_ONNET_COUNT</option>
														<option value="SMS_ONNET_AMOUNT">SMS_ONNET_AMOUNT</option>
														<option value="MA_AMOUNT">MA_AMOUNT</option>
														<option value="DA_AMOUNT">DA_AMOUNT</option>
														<option value="SMS_COUNT">SMS_COUNT</option>
														<option value="MA_CHARGED_SMS">MA_CHARGED_SMS</option>
														<option value="DA_CHARGED_SMS">DA_CHARGED_SMS</option>
														<option value="019_8_8_COUNT">019_8_8_COUNT</option>
														<option value="019_8_8_DURATION">019_8_8_DURATION</option>
														<option value="001_8_8_COUNT">001_8_8_COUNT</option>
														<option value="001_8_8_DURATION">001_8_8_DURATION</option>
														<option value="019_NON_PEAK_COUNT">019_NON_PEAK_COUNT</option>
														<option value="019_NON_PEAK_DURATION">019_NON_PEAK_DURATION</option>
														<option value="001_NON_PEAK_COUNT">001_NON_PEAK_COUNT</option>
														<option value="001_NON_PEAK_DURATION">001_NON_PEAK_DURATION</option>
														<option value="NO_PREFIX_8_8_COUNT">NO_PREFIX_8_8_COUNT</option>
														<option value="NO_PREFIX_8_8_DURATION">NO_PREFIX_8_8_DURATION</option>
														<option value="NO_PREFIX_NON_PEAK_COUNT">NO_PREFIX_NON_PEAK_COUNT</option>
														<option value="NO_PREFIX_NON_PEAK_DURATION">NO_PREFIX_NON_PEAK_DURATION</option>
													</select>
												</div>
											</div>
										</div>
										<div x-show="eventConditionData.usageServiceType === 'voice'">
											<div class="mb-3 row">
												<label for="eventConditionDataUsageTypeVoice" class="col-sm-2 col-form-label">Usage Type<sup><i class="fas fa-asterisk"></i></sup></label>
												<div class="col-sm-10">
													<select id="eventConditionDataUsageTypeVoice" class="form-control" x-model="eventConditionData.eventTypeUsages">
														<option>Choose...</option>
														<option value="VOICE_COUNT">VOICE_COUNT</option>
														<option value="VOICE_MINS">VOICE_MINS</option>
														<option value="VOICE_AMOUNT">VOICE_AMOUNT</option>
														<option value="VOICE_OFFNET_COUNT">VOICE_OFFNET_COUNT</option>
														<option value="VOICE_OFFNET_MINS">VOICE_OFFNET_MINS</option>
														<option value="VOICE_OFFNET_AMOUNT">VOICE_OFFNET_AMOUNT</option>
														<option value="VOICE_ONNET_COUNT">VOICE_ONNET_COUNT</option>
														<option value="VOICE_ONNET_MINS">VOICE_ONNET_MINS</option>
														<option value="VOICE_ONNET_AMOUNT">VOICE_ONNET_AMOUNT</option>
														<option value="VOICE_INCOMING_COUNT">VOICE_INCOMING_COUNT</option>
														<option value="VOICE_INCOMING_MINS">VOICE_INCOMING_MINS</option>
														<option value="VOICE_INCOMING_AMOUNT">VOICE_INCOMING_AMOUNT</option>
														<option value="VOICE_LOCAL_USAGE">VOICE_LOCAL_USAGE</option>
														<option value="VOICE_LOCAL_DURATION">VOICE_LOCAL_DURATION</option>
													</select>
												</div>
											</div>
										</div>
										<div x-show="eventConditionData.usageServiceType === 'data'">
											<div class="mb-3 row">
												<label for="eventConditionDataUsageTypeData" class="col-sm-2 col-form-label">Usage Type<sup><i class="fas fa-asterisk"></i></sup></label>
												<div class="col-sm-10">
													<select id="eventConditionDataUsageTypeData" class="form-control" x-model="eventConditionData.eventTypeUsages">
														<option>Choose...</option>
														<option value="DATA_VOLUME">DATA_VOLUME</option>
														<option value="DATA_AMOUNT">DATA_AMOUNT</option>
														<option value="DATA_LOCAL_USAGE">DATA_LOCAL_USAGE</option>
														<option value="DATA_LOCAL_DURATION">DATA_LOCAL_DURATION</option>
														<option value="DATA_ROAMING_USAGE">DATA_ROAMING_USAGE</option>
														<option value="DATA_ROAMING">DATA_ROAMING_DURATION</option>
													</select>
												</div>
											</div>
										</div>
										<div x-show="eventConditionData.usageServiceType === 'SMS'">
											<div class="mb-3 row">
												<label for="eventConditionDataUsageTypeSMS" class="col-sm-2 col-form-label">Usage Type<sup><i class="fas fa-asterisk"></i></sup></label>
												<div class="col-sm-10">
													<select id="eventConditionDataUsageTypeSMS" class="form-control" x-model="eventConditionData.eventTypeUsages">
														<option>Choose...</option>
														<option value="SMS_ALL_COUNT">SMS_ALL_COUNT</option>
														<option value="SMS_ALL_AMOUNT">SMS_ALL_AMOUNT</option>
														<option value="SMS_OFFNET_COUNT">SMS_OFFNET_COUNT</option>
														<option value="SMS_OFFNET_AMOUNT">SMS_OFFNET_AMOUNT</option>
														<option value="SMS_ONNET_COUNT">SMS_ONNET_COUNT</option>
														<option value="SMS_ONNET_AMOUNT">SMS_ONNET_AMOUNT</option>
													</select>
												</div>
											</div>
										</div>
										<div x-show="eventConditionData.usageServiceType === 'IDD'">
											<div>
												<div class="mb-3 row">
													<label for="countryCodeIDD" class="col-sm-2 col-form-label">Country Code<sup><i class="fas fa-asterisk"></i></sup></label>
													<div class="col-sm-10">
														<select id="countryCodeIDD" multiple>
															<option>Choose...</option>
															<template x-for="list in countryList">
																<option x-model="list.countryCode"><span x-text="list.countryName"></span></option>
															</template>
														</select>
													</div>
												</div>
												<div class="mb-3 row">
													<label for="eventConditionDataUsageTypeIDD" class="col-sm-2 col-form-label">Usage Type<sup><i class="fas fa-asterisk"></i></sup></label>
													<div class="col-sm-10">
														<select id="eventConditionDataUsageTypeIDD" class="form-control" x-model="eventConditionData.eventTypeUsages">
															<option>Choose...</option>
															<option value="MA_AMOUNT">MA_AMOUNT</option>
															<option value="DA_AMOUNT">DA_AMOUNT</option>
															<option value="SMS_COUNT">SMS_COUNT</option>
															<option value="MA_CHARGED_SMS">MA_CHARGED_SMS</option>
															<option value="DA_CHARGED_SMS">DA_CHARGED_SMS</option>
															<option value="019_8_8_COUNT">019_8_8_COUNT</option>
															<option value="019_8_8_DURATION">019_8_8_DURATION</option>
															<option value="001_8_8_COUNT">001_8_8_COUNT</option>
															<option value="001_8_8_DURATION">001_8_8_DURATION</option>
															<option value="019_NON_PEAK_COUNT">019_NON_PEAK_COUNT</option>
															<option value="019_NON_PEAK_DURATION">019_NON_PEAK_DURATION</option>
															<option value="001_NON_PEAK_COUNT">001_NON_PEAK_COUNT</option>
															<option value="001_NON_PEAK_DURATION">001_NON_PEAK_DURATION</option>
															<option value="NO_PREFIX_8_8_COUNT">NO_PREFIX_8_8_COUNT</option>
															<option value="NO_PREFIX_8_8_DURATION">NO_PREFIX_8_8_DURATION</option>
															<option value="NO_PREFIX_NON_PEAK_COUNT">NO_PREFIX_NON_PEAK_COUNT</option>
															<option value="NO_PREFIX_NON_PEAK_DURATION">NO_PREFIX_NON_PEAK_DURATION</option>
															<option value="VOICE_IDD_USAGE">VOICE_IDD_USAGE</option>
															<option value="VOICE_IDD_DURATION">VOICE_IDD_DURATION</option>
														</select>
													</div>
												</div>
											</div>
										</div>
										<div class="mb-3 row">
											<label x-show="eventConditionData.usageServiceType != 'all'" for="topUpValue" class="col-sm-2 col-form-label">Usage<sup><i class="fas fa-asterisk"></i></sup></label>
											<label x-show="eventConditionData.usageServiceType == 'all'" for="topUpValue" class="col-sm-2 col-form-label">Usage</label>
											<div class="col-sm-4">
												<select id="eventConditionDataUsageOperatorsDropdown" class="form-control" x-model="eventConditionData.eventUsagesOp">
													<option>Choose...</option>
													<option value="lessThan">Less than</option>
													<option value="moreThan">More than</option>
													<option value="equalTo">Equal to</option>
													<option value="lessOrEqual">Less than or Equal to</option>
													<option value="moreOrEqualTo">More than or Equal to</option>
												</select>
											</div>
											<div class="col-sm-2">
												<input type="number" class="form-control" id="eventConditionDataUsageValue" x-model="eventConditionData.eventUsagesValue">
											</div>
											<div class="col-sm-2">
												<select class="form-control" x-model="eventConditionData.eventUsagesUnit">
													<option>Choose...</option>
													<option value="GB">GB</option>
													<option value="Mins">Mins</option>
													<option value="Count">Count</option>
													<option value="$">$</option>
												</select>
											</div>
										</div>
										<div class="mb-3 row">
											<label for="topUpValue" class="col-sm-2 col-form-label">Aggregation Period<sup><i class="fas fa-asterisk"></i></sup></label>
											<span>Last</span>
											<div class="col-sm-2">
												<input type="number" class="form-control" x-model="eventConditionData.aggregationPeriodDays" min="0" max="180">
											</div>
											<span>Days</span>
										</div>
										<div class="mb-3 row">
											<label for="topUpValue" class="col-sm-2 col-form-label">Current Balance</label>
											<div class="col-sm-5">
												<select class="form-control" x-model="eventConditionData.topUpCurBalanceOp">
													<option value="lessThan">Less than</option>
													<option value="moreThan">More than</option>
													<option value="equalTo">Equal to</option>
													<option value="lessOrEqual">Less than or Equal to</option>
													<option value="moreOrEqualTo">More than or Equal to</option>
												</select>
											</div>
											<div class="col-sm-5">
												<input type="text" class="form-control" x-model="eventConditionData.topUpCurBalanceValue">
											</div>
										</div>
										<div class="mb-3 row">
											<label for="topUpValue" class="col-sm-2 col-form-label">Account Balance Before</label>
											<div class="col-sm-5">
												<select class="form-control" x-model="eventConditionData.topUpAccBalanceBeforeOp">
													<option value="lessThan">Less than</option>
													<option value="moreThan">More than</option>
													<option value="equalTo">Equal to</option>
													<option value="lessOrEqual">Less than or Equal to</option>
													<option value="moreOrEqualTo">More than or Equal to</option>
												</select>
											</div>
											<div class="col-sm-5">
												<input type="text" class="form-control" x-model="eventConditionData.topUpAccBalanceBeforeValue">
											</div>
										</div>
										<div class="mb-3 row">
											<label for="refillProfileID" class="col-sm-2 col-form-label">DA ID</label>
											<div class="col-sm-10">
												<input type="text" class="form-control" x-model="eventConditionData.daId">
											</div>
										</div>
										<div class="mb-3 row">
											<label for="topUpValue" class="col-sm-2 col-form-label">DA Balance</label>
											<div class="col-sm-5">
												<select id="usageTopUpDaBalanceOperators" class="form-control" x-model="eventConditionData.daBalanceOp">
													<option value="lessThan">Less than</option>
													<option value="moreThan">More than</option>
													<option value="equalTo">Equal to</option>
													<option value="lessOrEqual">Less than or Equal to</option>
													<option value="moreOrEqualTo">More than or Equal to</option>
												</select>
											</div>
											<div class="col-sm-5">
												<input type="text" class="form-control" id="usageTopUpDaBalanceValue" x-model="eventConditionData.daBalanceValue">
											</div>
										</div>
										<div class="mb-3 row">
											<label class="col-sm-2 col-form-label">DA Expiry Date</label>
											<div class="col-sm-4">
												<div class="input-group date" data-provider="datepicker">
													<input type="datetime-local" class="form-control" x-model="daExpiryDate">
													<div class="input-group-addon">
														<span class="glyphicon glyphicon-th"></span>
													</div>
												</div>
											</div>
										</div>
										<div class="mb-3 row">
											<label class="col-sm-2 col-form-label">Service Class</label>
											<div class="col-sm-10">
												<input type="text" class="form-control" id="usageTemporaryServiceClass" x-model="eventConditionData.tempServiceClass">
											</div>
										</div>
										<div class="mb-3 row">
											<label class="col-sm-2 col-form-label">IMEI</label>
											<div class="col-sm-10">
												<input type="text" class="form-control" id="usageTopUpIMEI" x-model="eventConditionData.imei">
											</div>
										</div>
										<div class="mb-3 row">
											<label class="col-sm-2 col-form-label">DA Change</label>
											<div class="col-sm-10">
												<input type="text" class="form-control" id="usageTopUpDAChange" x-model="eventConditionData.daChange">
											</div>
										</div>
										<div class="mb-3 row">
											<label class="col-sm-2 col-form-label">Charged Amount</label>
											<div class="col-sm-10">
												<input type="text" class="form-control" id="usageTopUpChargeAmount" x-model="eventConditionData.chargedAmount">
											</div>
										</div>
										<div class="mb-3 row">
											<label class="col-sm-2 col-form-label">Roaming Flag</label>
											<div class="col-sm-10">
												<input type="text" class="form-control" id="roamingFlagValEvent" x-model="eventConditionData.roamingFlag">
											</div>
										</div>
										<div class="mb-3 row">
											<label class="col-sm-2 col-form-label">Rate Plan ID</label>
											<div class="col-sm-10">
												<input type="text" class="form-control" id="ratePlanIDValEvent" x-model="eventConditionData.ratePlanId">
											</div>
										</div>
									</div>
								</div>
<!--								<div x-show="eventConditionTypeData === 'ARPU'">-->
<!--									<div class="eventConditionFulfillmentMonitoring" id="eventConditionDataARPUForm">-->
<!--										<div class="mb-3 row">-->
<!--											<label for="operators" class="col-sm-2 col-form-label">OPID</label>-->
<!--											<div class="col-sm-10">-->
<!--												<input type="text" class="form-control" id="eventConditionDataOperatorsARPU" x-model="eventConditionData.operatorId">-->
<!--											</div>-->
<!--										</div>-->
<!--										<div class="mb-3 row">-->
<!--											<label for="topUpValue" class="col-sm-2 col-form-label">ARPU Type<sup><i class="fas fa-asterisk"></i></sup></label>-->
<!--											<div class="col-sm-5">-->
<!--												<select id="eventConditionDataTopUpValueARPUValue" class="form-control" x-model="eventConditionData.arpuType">-->
<!--													<option>Choose...</option>-->
<!--													<option value="allTopUp">ALL TOP UP</option>-->
<!--													<option value="paidTopUp">PAID TOP UP</option>-->
<!--													<option value="selfServe">SELF SERVE</option>-->
<!--													<option value="data">DATA</option>-->
<!--													<option value="others">OTHERS</option>-->
<!--												</select>-->
<!--											</div>-->
<!--											<template x-if="eventConditionData.arpuType === 'others'">-->
<!--												<div class="col-sm-5">-->
<!--													<input type="text" class="form-control" id="eventConditionArpuSelectedTopUpCode" x-model="eventConditionData.arpuSelectedTopUpCode">-->
<!--												</div>-->
<!--											</template>-->
<!--										</div>-->
<!--										<div class="mb-3 row">-->
<!--											<label for="topUpValue" class="col-sm-2 col-form-label">ARPU Value<sup><i class="fas fa-asterisk"></i></sup></label>-->
<!--											<div class="col-sm-5">-->
<!--												<select id="eventConditionDataPaidARPUTopUpValueOperators" class="form-control" x-model="eventConditionData.arpuOp">-->
<!--													<option>Choose...</option>-->
<!--													<option value="lessThan">Less than</option>-->
<!--													<option value="moreThan">More than</option>-->
<!--													<option value="equalTo">Equal to</option>-->
<!--													<option value="lessOrEqual">Less than or Equal to</option>-->
<!--													<option value="moreOrEqualTo">More than or Equal to</option>-->
<!--												</select>-->
<!--											</div>-->
<!--											<div class="col-sm-5">-->
<!--												<input type="text" class="form-control" id="eventConditionDataPaidARPUValue" x-model="eventConditionData.arpuValue">-->
<!--											</div>-->
<!--										</div>-->
<!--										&lt;!&ndash;												<div class="mb-3 row">&ndash;&gt;-->
<!--										&lt;!&ndash;													<label for="topUpValue" class="col-sm-2 col-form-label">ARPU Aggregation Period<sup><i class="fas fa-asterisk"></i></sup></label>&ndash;&gt;-->
<!--										&lt;!&ndash;													<span>Last</span>&ndash;&gt;-->
<!--										&lt;!&ndash;													<div class="col-sm-2">&ndash;&gt;-->
<!--										&lt;!&ndash;														<input type="number" class="form-control" x-model="eventConditionData.aggregationPeriodDays" min="0" max="180">&ndash;&gt;-->
<!--										&lt;!&ndash;													</div>&ndash;&gt;-->
<!--										&lt;!&ndash;													<span>Days</span>&ndash;&gt;-->
<!--										&lt;!&ndash;												</div>&ndash;&gt;-->
<!--									</div>-->
<!--								</div>-->
							</div>
						</div>
					</div>
				</div>
				<div class="card">
					<div class="card-header" id="headingOne">
						<div id="offerSelectionAccordion" class="toggle-title collapsed" data-toggle="collapse" data-target="#collapseOne"><h5><i class="fa fa-plus"></i> Offer Selection - <label x-show="['offerMonitoringWithAssignment', 'directProvisioning', 'eventConditionDirectProvisioning'].includes(type)">Required</label><label x-show="type == 'eventCondition'">Not Applicable</label></h5></div>
					</div>
					<div id="collapseOne" class="collapse" aria-labelledby="headingOne" data-parent="#directProvisioning">
						<div class="card-body" x-show="type === 'directProvisioning' || type === 'offerMonitoringWithAssignment' || type === 'eventConditionDirectProvisioning'">
							<div>
								<div class="form-inline">
									<div class="col-sm-2">
										<label for="overallOfferName">Overall Offer Name<sup><i class="fas fa-asterisk"></i></sup></label>
									</div>
									<div class="col-sm-3">
										<input id="overallOfferName" @keyup="reValidate()" type="text" class="form-control" x-model="overallOfferName">
									</div>
									<div class="col-sm-3">
										<button @click="checkUniqueOfferName" class="btn btn-singtel" id="validateOffer"><i class="fas fa-check-double"></i> Validate</button>
									</div>
								</div><br>
								<div class="form-inline col-sm-12">
									<div class="col-sm-4 row">
										<label for="offerType">Offer Type<sup><i class="fas fa-asterisk"></i></sup></label>
										<select :disabled="uniqueData == false" id="offerType" class="custom-select col-sm-7" x-model="offerTypeDropdown">
											<option value="empty">Choose...</option>
											<option value="DA">DA Offer</option>
											<option value="OMS">OMS Offer</option>
											<option value="MA">MA Offer</option>
											<option value="PROMO">Unique Promo Code</option>
											<option value="NONE">No Offer</option>
										</select>
									</div>
									<div x-show="offerTypeDropdown == 'DA' || offerTypeDropdown == 'OMS' || offerTypeDropdown == 'MA'" class="col-sm-7 row" style="margin-right: 75px">
										<div class="form-group row">
											<label for="offerBucket">Offer Bucket<sup><i class="fas fa-asterisk"></i></sup></label>
											<select :disabled="uniqueData == false || offerTypeDropdown == 'MA'" id="offerBucket" x-ref="selectBucket" class="custom-select col-sm-3" >
												<option>Choose...</option>
												<template x-for="offerList in offerBucketList">
													<option x-model="offerList.id"><span x-text="offerList.text"></span></option>
												</template>
											</select>
											<label for="offersCampaign">Campaign Offer Name<sup><i class="fas fa-asterisk"></i></sup></label>
											<select :disabled="uniqueData == false" id="offersCampaign" x-ref="selectCampaign" class="custom-select col-sm-3">
												<option>Choose...</option>
												<template x-for="campaignList in campaignOfferList">
													<option x-model="campaignList.id"><span x-text="campaignList.text"></span></option>
												</template>
											</select>
										</div>
									</div>
									<button :disabled="uniqueData == false || offerTypeDropdown == 'NONE'" type="button" class="btn btn-singtel my-1 col-sm-1 add-direct-prov" style="max-width: 40px !important" @click="addNewData()"><i class="fas fa-plus-circle"></i>
									</button>
								</div>
								<hr>
								<div id="main">
									<div class="container" id="campaignDetailList">
										<template x-for="(offer, index) in offers">
											<div class="accordion" id="faq">
												<div class="offerSelectionTemplate">
													<div class="row-flex">
														<div class="card">
															<div class="row">
																<div class="col-sm-11">
																	<div class="card-header" id="offerSelection1">	<a href="#" class="btn btn-header-link collapsed accordion-toggle" data-toggle="collapse" :data-target="'#faq1' + index" aria-expanded="true" aria-controls="faq1">
																		<template x-if="offer.offerName != null">
																			<b><span x-text="offer.offerName"></span></b>
																		</template>
																		<template x-if="offer.offerName == null"> <!-- Used for showing MA Offer -->
																			<b><span x-text="offer.productName"></span></b>
																		</template></a>
																	</div>
																	<div :id="'faq1' + index" class="panel-collapse collapse" aria-labelledby="offerSelection1" data-parent="#faq">
																		<div class="card-body">
																			<div class="form-row">
																				<div class="col-md-6 mb-3">
																					<template x-if="offer.offerName != null">
																						<label :for="'campaignOfferName' + index">Campaign Offer Name</label>
																						<input type="text" class="form-control" :id="'campaignOfferName' + index" x-model="offer.offerName" disabled>
																					</template>
																					<template x-if="offer.offerName == null"> <!-- Used for showing MA Offer -->
																						<label :for="'campaignProductName' + index">Campaign Product Name</label>
																						<input type="text" class="form-control" :id="'campaignProductName' + index" x-model="offer.productName" disabled>
																					</template>
																				</div>
																				<div class="col-md-6 mb-3">
																					<template x-if="offer.offerName != null">
																						<label :for="'daName' + index">Bucket Name</label>
																						<input type="text" class="form-control" :id="'daName' + index" x-model="offer.offerId" disabled>
																					</template>
																					<template x-if="offer.offerName == null"> <!-- Used for showing MA Offer -->
																						<label :for="'description' + index">MA Offer Description</label>
																						<input type="text" class="form-control" :id="'description' + index" x-model="offer.description" disabled>
																					</template>
																				</div>
																			</div>
																			<div x-show="offer.offerBucketType == 'DA'">
																				<div class="form-row">
																					<div class="col-md-6 mb-3">
																						<label :for="'campaignOfferDesc' + index">Campaign Offer Description</label>
																						<input type="text" class="form-control" :id="'campaignOfferDesc' + index" x-model="offer.description" disabled>
																					</div>
																					<div class="col-md-6 mb-3">
																						<label :for="'validity' + index">Validity</label>
																						<input type="text" class="form-control" :id="'validity' + index" x-model="offer.valueValidityInDays" disabled>
																					</div>
																				</div>
																			</div>
																			<div x-show="offer.offerBucketType == 'OMS'">
																				<div class="form-row">
																					<div class="col-md-6 mb-3">
																						<label :for="'campaignOfferDesc' + index">Campaign Offer Description</label>
																						<input type="text" class="form-control" :id="'campaignOfferDesc' + index" x-model="offer.description" disabled>
																					</div>
																					<div class="col-md-6 mb-3">
																						<label :for="'validity' + index">Validity (Day/Hour/Minutes)</label>
																						<input type="text" class="form-control" :id="'validity' + index" x-model="offer.dayHourMinute" disabled>
																					</div>
																				</div>
																			</div>
																			<div x-show="offer.offerBucketType == null || offer.offerBucketType == 'MA'"> <!-- Used for showing MA Offer -->
																				<div class="form-row">
																					<div class="col-md-6 mb-3">
																						<label :for="'value' + index">Value</label>
																						<input type="text" class="form-control" :id="'value' + index" x-model="offer.value" disabled>
																					</div>
																					<div class="col-md-6 mb-3">
																						<label :for="'valueCap' + index">CAP Value</label>
																						<input type="text" class="form-control" :id="'valueCap' + index" x-model="offer.valueCap" disabled>
																					</div>
																				</div>
																			</div>
																			<div x-show="offer.offerBucketType == null || offer.offerBucketType == 'MA'"> <!-- Used for showing MA Offer -->
																				<div class="form-row">
																					<div class="col-md-6 mb-3">
																						<label :for="'valueUnit' + index">Value Unit</label>
																						<div x-show="offer.valueUnit == 'SMS'">
																							<input type="text" class="form-control" :id="'valueUnit' + index" value="Unit Count" disabled>
																						</div>
																						<div x-show="offer.valueUnit == 'AMOUNT'">
																							<input type="text" class="form-control" :id="'valueUnit' + index" value="Amount in SGD" disabled>
																						</div>
																						<div x-show="offer.valueUnit == 'MB'">
																							<input type="text" class="form-control" :id="'valueUnit' + index" value="Amount in MB" disabled>
																						</div>
																						<div x-show="offer.valueUnit == 'PERCENT_AMOUNT'">
																							<input type="text" class="form-control" :id="'valueUnit' + index" value="% of Topup Value in SGD" disabled>
																						</div>
																						<div x-show="offer.valueUnit == 'PERCENT_MB'">
																							<input type="text" class="form-control" :id="'valueUnit' + index" value="% Topup Value in MB" disabled>
																						</div>
																					</div>
																					<div class="col-md-6 mb-3">
																						<label :for="'validity' + index">Validity</label>
																						<input type="text" class="form-control" :id="'validity' + index" x-model="offer.validity" disabled>
																					</div>
																				</div>
																			</div>
																			<div x-show="offer.offerBucketType == 'DA'">
																				<div class="form-row">
																					<div class="col-md-6 mb-3">
																						<label :for="'value' + index">Value</label>
																						<input type="text" class="form-control" :id="'value' + index" x-model="offer.value" disabled>
																					</div>
																					<div class="col-md-6 mb-3">
																						<label :for="'valueUnit' + index">Value Unit</label>
																						<div x-show="offer.valueUnit == 'SMS'">
																							<input type="text" class="form-control" :id="'valueUnit' + index" value="Unit Count" disabled>
																						</div>
																						<div x-show="offer.valueUnit == 'AMOUNT'">
																							<input type="text" class="form-control" :id="'valueUnit' + index" value="Amount in SGD" disabled>
																						</div>
																						<div x-show="offer.valueUnit == 'MB'">
																							<input type="text" class="form-control" :id="'valueUnit' + index" value="Amount in MB" disabled>
																						</div>
																						<div x-show="offer.valueUnit == 'PERCENT_AMOUNT'">
																							<input type="text" class="form-control" :id="'valueUnit' + index" value="% of Topup Value in SGD" disabled>
																						</div>
																						<div x-show="offer.valueUnit == 'PERCENT_MB'">
																							<input type="text" class="form-control" :id="'valueUnit' + index" value="% Topup Value in MB" disabled>
																						</div>
																					</div>
																				</div>
																			</div>
																			<div x-show="offer.offerBucketType == 'OMS'">
																				<div class="form-row">
																					<div class="col-md-6 mb-3">
																						<label :for="'value' + index">Threshold Value</label>
																						<input type="text" class="form-control" :id="'value' + index" x-model="offer.thresholdValue" disabled>
																					</div>
																					<div class="col-md-6 mb-3">
																						<label :for="'valueUnit' + index">Threshold Value Unit</label>
																						<div x-show="offer.thresholdValueUnit == 'SMS'">
																							<input type="text" class="form-control" :id="'valueUnit' + index" value="Unit Count" disabled>
																						</div>
																						<div x-show="offer.thresholdValueUnit == 'MINUTE'">
																							<input type="text" class="form-control" :id="'valueUnit' + index" value="Amount in Minute" disabled>
																						</div>
																						<div x-show="offer.thresholdValueUnit == 'MB'">
																							<input type="text" class="form-control" :id="'valueUnit' + index" value="Amount in MB" disabled>
																						</div>
																						<div x-show="offer.thresholdValueUnit == 'PERCENT_MINUTE'">
																							<input type="text" class="form-control" :id="'valueUnit' + index" value="% of Amount in Minute" disabled>
																						</div>
																						<div x-show="offer.thresholdValueUnit == 'PERCENT_MB'">
																							<input type="text" class="form-control" :id="'valueUnit' + index" value="% of Amount in MB" disabled>
																						</div>
																					</div>
																				</div>
																			</div>
																			<div x-show="offer.offerBucketType == 'DA'">
																				<div class="form-row">
																					<div class="col-md-6 mb-3">
																						<label :for="'capValue' + index">CAP Value</label>
																						<input type="text" class="form-control" :id="'capValue' + index" x-model="offer.valueCap" disabled>
																					</div>
																					<div class="col-md-6 mb-3">
																						<label :for="'valueToDeduct' + index">Value to Deduct from MA</label>
																						<input type="text" class="form-control" :id="'valueToDeduct' + index" x-model="offer.valueToDeductFromMa" disabled>
																					</div>
																				</div>
																			</div>
																			<div class="form-row">
																				<div class="col-md-6 mb-3">
																					<label :for="'startDate' + index">Start Date</label>
																					<input type="text" class="form-control" :id="'startDate' + index" x-model="offer.startDate" disabled>
																				</div>
																				<div class="col-md-6 mb-3">
																					<label :for="'endDate' + index">End Date</label>
																					<input type="text" class="form-control" :id="'endDate' + index" x-model="offer.endDate" disabled>
																				</div>
																			</div>
																			<div class="form-row">
																				<div class="col-md-6 mb-3">
																					<label :for="'action' + index">Action</label>
																					<input type="text" class="form-control" :id="'action' + index" x-model="offer.action" disabled>
																				</div>
																				<div class="col-md-6 mb-3">
																					<template x-if="offer.offerBucketType != null">
																						<label :for="'validity' + index">Offer Type</label>
																						<input type="text" class="form-control" :id="'bucketType' + index" x-model="offer.offerBucketType" disabled>
																					</template>
																				</div>
																			</div>
																		</div>
																	</div>
																</div>
																<div class="col-sm-1">
																	<button type="submit" class="btn btn-danger my-1" @click="removeOffer(index)"><i class="fas fa-minus-circle"></i></button>
																</div>
															</div>
														</div>
													</div>
												</div>
											</div>
										</template>
									</div>
									<div class="container">
										<!--PROMO ACCORDION BEGIN-->
										<div class="accordion" id="prom" x-show="offerTypeDropdown === 'PROMO' || offerSelectionSmsCampaignName != null">
											<div class="offerSelectionTemplate">
												<div class="card">
													<div class="row">
														<div class="col-sm-11">
															<div class="card-header" id="promoAccordion">
																<a href="#" class="btn btn-header-link collapsed accordion-toggle" data-toggle="collapse" data-target="#prom1"
																   aria-expanded="true" aria-controls="faq1"><b>UNIQUE PROMO CODE</b></a>
															</div>
															<div id="prom1" class="panel-collapse collapse" aria-labelledby="promoAccordion" data-parent="#prom">
																<div class="card-body">
																	<div class="form-row">
																		<b>Unique Promo Code Message</b><br><br>
																		<div class="form-group row">
																			<label class="col-sm-2 col-form-label col-form-label">SMS Campaign Name<sup><i class="fas fa-asterisk"></i></sup></label>
																			<div class="col-sm-4">
																				<input type="text" class="form-control form-control-sm" x-model="offerSelectionSmsCampaignName">
																			</div>
																		</div>
																	</div>
																	<div class="form-row">
																		<div class="form-group row">
																			<label class="col-sm-2 col-form-label col-form-label">Promo Type<sup><i class="fas fa-asterisk"></i></sup></label>
																			<div class="col-sm-4">
																				<select multiple id="promoCodeMultiple" class="w-100">
																					<option>Choose...</option>
																					<template x-for="list in promoList">
																						<option :key="list.name" x-text="list.name"></option>
																					</template>
																				</select>
																			</div>
																		</div>
																	</div>
																	<div class="form-row">
																		<div class="form-group row">
																			<label class="col-sm-2 col-form-label col-form-label">Message Text 1</label>
																			<div class="col-sm-4">
																				<input type="text" class="form-control form-control-sm" x-model="offerSelectionDynamic1">
																			</div>
																		</div>
																	</div>
																	<div class="form-row">
																		<div class="form-group row">
																			<label class="col-sm-2 col-form-label col-form-label">Message Text 2</label>
																			<div class="col-sm-4">
																				<input type="text" class="form-control form-control-sm" x-model="offerSelectionDynamic2">
																			</div>
																		</div>
																	</div>
																	<div class="form-row">
																		<div class="form-group row">
																			<label class="col-sm-2 col-form-label col-form-label">Message Text 3</label>
																			<div class="col-sm-4">
																				<input type="text" class="form-control form-control-sm" x-model="offerSelectionDynamic3">
																			</div>
																		</div>
																	</div>
																	<div class="form-row">
																		<div class="form-group row">
																			<label class="col-sm-2 col-form-label col-form-label">Message Text 4</label>
																			<div class="col-sm-4">
																				<input type="text" class="form-control form-control-sm" x-model="offerSelectionDynamic4">
																			</div>
																		</div>
																	</div>
																</div>
															</div>
														</div>
														<div class="col-sm-1">
															<button type="submit" class="btn btn-danger my-1" @click="removePromo()"><i class="fas fa-minus-circle"></i></button>
														</div>
													</div>
												</div>
											</div>
										</div>
										<!--PROMO ACCORDION END-->
									</div>
									<div class="container">
										<div class="noneOfferSelection" x-show="offerTypeDropdown === 'NONE' || offerType === 'NONE'">
											<div class="accordion" id="none">
												<div class="noneTemplate">
													<div class="row-flex">
														<div class="card">
															<div class="row">
																<div class="col-sm-12">
																	<div class="card-header" id="none1" style="background-color: #da7200 !important; background-image: none !important;">
																		<b>No Offer</b>
																	</div>
																</div>
															</div>
														</div>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="card">
					<div class="card-header" id="headingTwo">
						<div id="advancedFilterAccordion" class="toggle-title collapsed"
							 data-toggle="collapse" data-target="#collapseTwo">
							<h5>
								<i class="fa fa-plus"></i> Advanced Filter - <label
									x-show="['directProvisioning', 'offerMonitoringWithAssignment', 'eventConditionDirectProvisioning', 'eventCondition'].includes(type)">Optional</label>
							</h5>
						</div>
					</div>
					<div id="collapseTwo" class="collapse"
						 aria-labelledby="headingTwo" data-parent="#directProvisioning">
						<div class="card-body">
							<!-- Advance Filter UI Main Entrance -->
							<div id="advanceFilterComponent"
								 class="advance-filter-container">

								<a class="tab-selected" href="#"
								   v-show="advanceFilterTab === 'customUI'">Custom UI</a> <a
									class="tab-unselected" href="#"
									v-show="advanceFilterTab === 'customQuery'">Custom UI</a> <a
									class="tab-selected" href="#"
									v-show="advanceFilterTab === 'customQuery'">Custom Query</a> <a
									class="tab-unselected" href="#"
									v-show="advanceFilterTab ==='customUI'">Custom Query</a>
								<hr>
								<div v-show="advanceFilterTab === 'customUI'">
									<query-component v-bind:maindata="mainData"
													 v-bind:modaltrigger="showModal"
													 v-bind:fetchedtablelist="fetchedTableList"
													 v-bind:modaltriggerfn="showModalfn"
													 v-bind:deletegroupfn="deleteGroupfn"
													 v-bind:deletedatafn="deleteDatafn"
													 v-bind:getadddatagroupidfn="getAddDataGroupIdfn"
													 v-bind:savedatafn="saveDatafn"
													 v-bind:creategroupfn="createGroupfn"></query-component>

									<button class="btn btn-singtel"
											style="float: right; margin: 10px; margin-top: 5%;"
											v-on:click="generateSQL"
											v-bind:disabled="mainData[0].groups.length === 0 && mainData[0].dataList.length === 0">Generate
										SQL</button>
									<textarea placeholder="View SQL" v-model="generatedQuery"
											  :readonly="true" :rows="4" style="width: 100%; resize: none;"
											  class="form-control form-control-sm input-custom"></textarea>

								</div>

								<div v-show="advanceFilterTab === 'customQuery'"></div>
							</div>
							<!-- Advance Filter UI Main Entrance END -->

							<!-- <div  v-show="false">
                                <div name="modal">
                                  <div class="modal-mask">
                                    <div class="modal-wrapper">
                                      <div class="modal-container">
                                        <div class="modal-header">
                                          <slot name="header">
                                            Switch Tab
                                          </slot>
                                        </div>
                                        <div class="modal-body">
                                          <slot name="body">
                                            <div>Switching tab will erase all of configuration done in present tab, Should we proceed? </div>
                                            <div class="modal-footer">
                                                <button class="btn" @click.prevent="showModal=false">
                                                    No
                                                </button>
                                                <button class="btn btn-singtel" @click.prevent="showModal=false" @click="emptyComponentList">
                                                    proceed
                                                </button>
                                            </div>
                                          </slot>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                            </div> -->

						</div>
					</div>
				</div>
				<div class="card">
					<div class="card-header" id="headingThree">
						<div id="eligibilityPolicyAccordion" class="toggle-title collapsed" data-toggle="collapse" data-target="#collapseThree"><h5><i class="fa fa-plus"></i> Eligibility Policy - <label x-show="['directProvisioning', 'offerMonitoringWithAssignment', 'eventConditionDirectProvisioning', 'eventCondition'].includes(type)">Optional</label></h5></div>
					</div>
					<div id="collapseThree" class="collapse" aria-labelledby="headingThree" data-parent="#directProvisioning">
						<div class="card-body" x-show="type === 'directProvisioning' || type === 'offerMonitoringWithAssignment' || type === 'eventConditionDirectProvisioning' || type === 'eventCondition'">
							<template x-if="eligibilityData">
								<div>
									<div id="subsOfferEligibilityForm">
										<b>Total Offer Eligibility - For Configured Offer</b><br><br>
										<div class="form-group row">
											<button @click="uncheckTotalOffer" class="btn btn-singtel"><i class="far fa-times-circle"></i> Uncheck Total Offer</button>
										</div>
										<div class="form-group row">
											<div class="col-sm-1">
												<div class="custom-control custom-radio">
													<input type="radio" id="isOfferLevelCapOnly" name="radioSubscriberOffer" class="custom-control-input" x-model="offerLevelType" value="cap-only">
													<label class="custom-control-label" for="isOfferLevelCapOnly"></label>
												</div>
											</div>
											<label for="isOfferLevelCapOnly" class="col-sm-4">Total Offer Cap (max number of subscriber who can receive this offer)
											</label>
											<div class="col-sm-4">
												<input type="number" :disabled="!offerLevelType || offerLevelType === 'cap-period'" class="form-control form-control-sm" id="offerLevelCapValue" x-model="eligibilityData.offerLevelCapValue">
											</div>
										</div>
										<div class="form-group row">
											<div class="col-sm-1">
												<div class="custom-control custom-radio">
													<input type="radio" id="isOfferLevelCapAndPeriod" name="radioSubscriberOffer" class="custom-control-input" x-model="offerLevelType" value="cap-period">
													<label class="custom-control-label" for="isOfferLevelCapAndPeriod"></label>
												</div>
											</div>
											<label class="col-sm-4 col-form-label col-form-label">Totally Offer Cap and Period
											</label>
											<div class="col-sm-2">
												<label class="sr-only" for="offerLevelCapPeriodValue">Name</label>
												<input type="number" min="1" max="31" :disabled="!offerLevelType || offerLevelType === 'cap-only'" class="form-control mb-2 mr-sm-2" id="offerLevelCapPeriodValue" x-model="eligibilityData.offerLevelCapPeriodValue">
											</div>
											<label class="col-sm-1 col-form-label col-form-label">in Every</label>
											<div class="col-sm-2">
												<label class="sr-only" for="offerLevelCapPeriodDays">Name</label>
												<input type="number" min="1" max="31" :disabled="!offerLevelType || offerLevelType === 'cap-only'" class="form-control mb-2 mr-sm-2" id="offerLevelCapPeriodDays" x-model="eligibilityData.offerLevelCapPeriodDays">
											</div>
											<p>Days</p>
										</div>
									</div><br>
									<b>Subscriber Offer Eligibility - For Configured Offer</b><br><br>
									<div class="form-group row">
										<button @click="uncheckSubscriber" class="btn btn-singtel"><i class="far fa-times-circle"></i> Uncheck Subscriber Offer</button>
									</div>
									<div class="form-group row">
										<div class="col-sm-1">
											<div class="custom-control custom-radio">
												<input type="radio" class="custom-control-input" id="frequencyOnly" name="radioSubscriberOfferEligibility" x-model="subscriberOfferEligibility" value="freq-only">
												<label class="custom-control-label" for="frequencyOnly"></label>
											</div>
										</div>
										<label class="col-sm-4" for="frequencyOnly">Frequency Only</label>
										<div class="col-sm-4">
											<input type="number" :disabled="!subscriberOfferEligibility || subscriberOfferEligibility === 'freq-timeperiod'"  class="form-control form-control-sm" id="inputFrequency" x-model="eligibilityData.frequency">
										</div>
									</div>
									<div class="form-group row">
										<div class="col-sm-1">
											<div class="custom-control custom-radio">
												<input type="radio" class="custom-control-input" name="radioSubscriberOfferEligibility" id="frequencyTimePeriod" x-model="subscriberOfferEligibility" value="freq-timeperiod">
												<label class="custom-control-label" for="frequencyTimePeriod"></label>
											</div>
										</div>
										<label class="col-sm-4 col-form-label col-form-label">Frequency and Time Period</label>
										<div class="col-sm-2">
											<label class="sr-only" for="inputFrequencyTimePeriod">Name</label>
											<input type="number" min="1" max="31" :disabled="!subscriberOfferEligibility || subscriberOfferEligibility === 'freq-only'" class="form-control mb-2 mr-sm-2" id="inputFrequencyTimePeriod" x-model="eligibilityData.numberOfFrequency"> &nbsp;
										</div>
										<label class="col-sm-1 col-form-label col-form-label">in</label>
										<div class="col-sm-2">
											<label class="sr-only" for="inputFrequencyIn">Name</label>
											<input type="number" min="1" max="31" :disabled="!subscriberOfferEligibility || subscriberOfferEligibility === 'freq-only'" class="form-control" id="inputFrequencyIn" x-model="eligibilityData.numberOfDays">
										</div>
										<p>Days</p>
									</div><br>
									<div id="excludeSubsForm">
										<b>Exclude Subscriber from this if they are in the following Program</b><br><br>
										<select multiple id="select2multiple" class="w-100">
											<option>Choose...</option>
											<template x-for="list in programList">
												<option :key="list.programName" x-text="list.programName"></option>
											</template>
										</select>
									</div><br>
									<!--										<div class="mb-3 row">-->
									<!--											<label for="topUpValue" class="col-sm-2 col-form-label">In the last</label>-->
									<!--											<div class="col-sm-2">-->
									<!--												<input type="number" class="form-control" x-model="eligibilityData.excludeLastDay" min="0" max="180">-->
									<!--											</div>-->
									<!--											<span>Days</span>-->
									<!--										</div>-->
								</div>
							</template>
						</div>
					</div>
				</div>
				<div class="card">
					<div class="card-header" id="headingFour">
						<div id="fulfillmentAccordion" class="toggle-title collapsed" data-toggle="collapse" data-target="#collapseFour"><h5><i class="fa fa-plus"></i> Offer Monitoring - <label x-show="['directProvisioning', 'eventConditionDirectProvisioning', 'eventCondition'].includes(type)">Not Applicable</label><label x-show="type == 'offerMonitoringWithAssignment'">Required</label></h5></div>
					</div>
					<div id="collapseFour" class="collapse" aria-labelledby="headingFour" data-parent="#directProvisioning">
						<div class="card-body" x-show="type === 'offerMonitoringWithAssignment'">
							<template x-if="monitoringData">
								<div>
									<div class="form-group">
										<div class="mb-3 row">
											<label for="eventTypeData" class="col-sm-2 col-form-label">Offer Monitoring Type<sup><i class="fas fa-asterisk"></i></sup></label>
											<div class="col-sm-10">
												<div class="form-group d-flex justify-content-between">
													<select :disabled="type === 'directProvisioning'" id="eventTypeData" class="form-control" x-model="eventTypeData">
														<option value="Top-Up">Top-Up</option>
														<option value="Usage">Usage</option>
														<option value="ARPU">ARPU</option>
													</select>
												</div>
											</div>
										</div>
									</div>
									<hr>
									<div x-show="eventTypeData === 'Top-Up'">
										<div class="eventTypeFulfillmentMonitoring" id="topUpForm">
											<div class="form-group">
												<div class="mb-3 row">
													<label class="col-sm-2 col-form-label">Top-Up Type<sup><i class="fas fa-asterisk"></i></sup></label>
													<div class="col-sm-10">
														<div class="form-group d-flex justify-content-between">
															<select class="form-control" x-model="monitoringData.topUpType">
																<option value="All">All</option>
																<option value="Paid">Paid</option>
																<option value="Non-Paid">Non-Paid</option>
															</select>
														</div>
													</div>
												</div>
											</div>
											<div class="mb-3 row">
												<label for="operators" class="col-sm-2 col-form-label">OPID</label>
												<div class="col-sm-10">
													<input type="text" class="form-control" id="operators" x-model="monitoringData.operatorId">
												</div>
											</div>
											<div class="mb-3 row">
												<label for="refillProfileID" class="col-sm-2 col-form-label">Top Up Code</label>
												<div class="col-sm-10">
													<input type="text" class="form-control" id="refillProfileID" x-model="monitoringData.topUpCode">
												</div>
											</div>
											<div class="mb-3 row">
												<label for="topUpValue" class="col-sm-2 col-form-label">Top-Up Value</label>
												<div class="col-sm-5">
													<select id="topUpValueOperators" class="form-control" x-model="monitoringData.topUpOp">
														<option value="lessThan">Less than</option>
														<option value="moreThan">More than</option>
														<option value="equalTo">Equal to</option>
														<option value="lessOrEqual">Less than or Equal to</option>
														<option value="moreOrEqualTo">More than or Equal to</option>
														<option value="isBetween">Is Between</option>
													</select>
												</div>
												<div class="col-sm-5" x-show="monitoringData.topUpOp != 'equalTo'">
													<input type="text" class="form-control" id="topUpValue" x-model="monitoringData.topUpTransactionValue">
												</div>
												<div class="col-sm-5" x-show="monitoringData.topUpOp == 'equalTo'">
													<input type="number" class="form-control" x-model="monitoringData.topUpTransactionValue">
												</div>
											</div>
											<div class="mb-3 row">
												<label for="topupCreditMethod" class="col-sm-2 col-form-label">Credit Method</label>
												<div class="col-sm-10">
													<input type="text" class="form-control" id="topupCreditMethod" x-model="monitoringData.topUpCreditMethod">
												</div>
											</div>
											<div class="mb-3 row">
												<label for="usageServiceType" class="col-sm-2 col-form-label">Usage Service Type</label>
												<div class="col-sm-10">
													<input type="text" class="form-control" id="usageServiceType" x-model="monitoringData.topUpUsageServiceType">
												</div>
											</div>
											<div class="mb-3 row">
												<label for="topUpValue" class="col-sm-2 col-form-label">Current Balance</label>
												<div class="col-sm-5">
													<select id="currentBalanceOperators" class="form-control" x-model="monitoringData.topUpCurBalanceOp">
														<option value="lessThan">Less than</option>
														<option value="moreThan">More than</option>
														<option value="equalTo">Equal to</option>
														<option value="lessOrEqual">Less than or Equal to</option>
														<option value="moreOrEqualTo">More than or Equal to</option>
														<option value="isBetween">Is Between</option>
													</select>
												</div>
												<div class="col-sm-5">
													<input type="text" class="form-control" id="currentBalanceValue" x-model="monitoringData.topUpCurBalanceValue">
												</div>
											</div>
											<div class="mb-3 row">
												<label for="topUpValue" class="col-sm-2 col-form-label">Account Balance Before</label>
												<div class="col-sm-5">
													<select id="accountBalanceOperators" class="form-control" x-model="monitoringData.topUpAccBalanceBeforeOp">
														<option value="lessThan">Less than</option>
														<option value="moreThan">More than</option>
														<option value="equalTo">Equal to</option>
														<option value="lessOrEqual">Less than or Equal to</option>
														<option value="moreOrEqualTo">More than or Equal to</option>
														<option value="isBetween">Is Between</option>
													</select>
												</div>
												<div class="col-sm-5">
													<input type="text" class="form-control" id="accountBalanceValue" x-model="monitoringData.topUpAccBalanceBeforeValue">
												</div>
											</div>
											<div class="mb-3 row">
												<label for="refillProfileID" class="col-sm-2 col-form-label">DA ID</label>
												<div class="col-sm-10">
													<input type="text" class="form-control" id="daID" x-model="monitoringData.topUpDaId">
												</div>
											</div>
											<div class="mb-3 row">
												<label for="topUpValue" class="col-sm-2 col-form-label">DA Balance</label>
												<div class="col-sm-5">
													<select id="topUpDaBalanceOperators" class="form-control" x-model="monitoringData.topUpDaBalanceOp">
														<option value="lessThan">Less than</option>
														<option value="moreThan">More than</option>
														<option value="equalTo">Equal to</option>
														<option value="lessOrEqual">Less than or Equal to</option>
														<option value="moreOrEqualTo">More than or Equal to</option>
														<option value="isBetween">Is Between</option>
													</select>
												</div>
												<div class="col-sm-5">
													<input type="text" class="form-control" id="topUpDaBalanceValue" x-model="monitoringData.topUpDaBalanceValue">
												</div>
											</div>
											<div class="mb-3 row">
												<label class="col-sm-2 col-form-label">DA Expiry Date</label>
												<div class="col-sm-4">
													<div class="input-group date" data-provider="datepicker">
														<input type="datetime-local" class="form-control" x-model="daExpiryDateMonitor">
														<div class="input-group-addon">
															<span class="glyphicon glyphicon-th"></span>
														</div>
													</div>
												</div>
											</div>
											<div class="mb-3 row">
												<label for="topupCreditMethod" class="col-sm-2 col-form-label">Temporary Service Class</label>
												<div class="col-sm-10">
													<input type="text" class="form-control" id="topUpTemporaryServiceClassMonitor" x-model="monitoringData.topUpTempServiceClass">
												</div>
											</div>
											<div class="mb-3 row">
												<label for="permanentServiceClass" class="col-sm-2 col-form-label">Permanent Service Class</label>
												<div class="col-sm-10">
													<input type="text" class="form-control" id="permanentServiceClassMonitor" x-model="monitoringData.permanentServiceClass">
												</div>
											</div>
										</div>
									</div>
									<div x-show="eventTypeData === 'Usage'">
										<div class="eventTypeFulfillmentMonitoring" id="usageForm">
											<div class="mb-3 row">
												<label for="usageServiceTypeDropdown" class="col-sm-2 col-form-label">Usage Service Type<sup><i class="fas fa-asterisk"></i></sup></label>
												<div class="col-sm-10">
													<select id="usageServiceTypeDropdown" class="form-control" x-model="monitoringData.usageServiceType">
														<option>Choose...</option>
														<option value="all">All ($)</option>
														<option value="voice">Voice</option>
														<option value="data">Data</option>
														<option value="SMS">SMS</option>
														<option value="IDD">IDD</option>
													</select>
												</div>
											</div>
											<div x-show="monitoringData.usageServiceType === 'all'">
												<div class="mb-3 row">
													<label for="usageTypeVoice" class="col-sm-2 col-form-label">Usage Type<sup><i class="fas fa-asterisk"></i></sup></label>
													<div class="col-sm-10">
														<select id="usageTypeAll" multiple>
															<option>Choose...</option>
															<option value="VOICE_COUNT">VOICE_COUNT</option>
															<option value="VOICE_MINS">VOICE_MINS</option>
															<option value="VOICE_AMOUNT">VOICE_AMOUNT</option>
															<option value="VOICE_OFFNET_COUNT">VOICE_OFFNET_COUNT</option>
															<option value="VOICE_OFFNET_MINS">VOICE_OFFNET_MINS</option>
															<option value="VOICE_OFFNET_AMOUNT">VOICE_OFFNET_AMOUNT</option>
															<option value="VOICE_ONNET_COUNT">VOICE_ONNET_COUNT</option>
															<option value="VOICE_ONNET_MINS">VOICE_ONNET_MINS</option>
															<option value="VOICE_ONNET_AMOUNT">VOICE_ONNET_AMOUNT</option>
															<option value="VOICE_INCOMING_COUNT">VOICE_INCOMING_COUNT</option>
															<option value="VOICE_INCOMING_MINS">VOICE_INCOMING_MINS</option>
															<option value="VOICE_INCOMING_AMOUNT">VOICE_INCOMING_AMOUNT</option>
															<option value="VOICE_LOCAL_USAGE">VOICE_LOCAL_USAGE</option>
															<option value="VOICE_LOCAL_DURATION">VOICE_LOCAL_DURATION</option>
															<option value="VOICE_IDD_USAGE">VOICE_IDD_USAGE</option>
															<option value="VOICE_IDD_DURATION">VOICE_IDD_DURATION</option>
															<option value="DATA_VOLUME">DATA_VOLUME</option>
															<option value="DATA_AMOUNT">DATA_AMOUNT</option>
															<option value="DATA_LOCAL_USAGE">DATA_LOCAL_USAGE</option>
															<option value="DATA_LOCAL_DURATION">DATA_LOCAL_DURATION</option>
															<option value="DATA_ROAMING_USAGE">DATA_ROAMING_USAGE</option>
															<option value="DATA_ROAMING">DATA_ROAMING_DURATION</option>
															<option value="SMS_ALL_COUNT">SMS_ALL_COUNT</option>
															<option value="SMS_ALL_AMOUNT">SMS_ALL_AMOUNT</option>
															<option value="SMS_OFFNET_COUNT">SMS_OFFNET_COUNT</option>
															<option value="SMS_OFFNET_AMOUNT">SMS_OFFNET_AMOUNT</option>
															<option value="SMS_ONNET_COUNT">SMS_ONNET_COUNT</option>
															<option value="SMS_ONNET_AMOUNT">SMS_ONNET_AMOUNT</option>
															<option value="MA_AMOUNT">MA_AMOUNT</option>
															<option value="DA_AMOUNT">DA_AMOUNT</option>
															<option value="SMS_COUNT">SMS_COUNT</option>
															<option value="MA_CHARGED_SMS">MA_CHARGED_SMS</option>
															<option value="DA_CHARGED_SMS">DA_CHARGED_SMS</option>
															<option value="019_8_8_COUNT">019_8_8_COUNT</option>
															<option value="019_8_8_DURATION">019_8_8_DURATION</option>
															<option value="001_8_8_COUNT">001_8_8_COUNT</option>
															<option value="001_8_8_DURATION">001_8_8_DURATION</option>
															<option value="019_NON_PEAK_COUNT">019_NON_PEAK_COUNT</option>
															<option value="019_NON_PEAK_DURATION">019_NON_PEAK_DURATION</option>
															<option value="001_NON_PEAK_COUNT">001_NON_PEAK_COUNT</option>
															<option value="001_NON_PEAK_DURATION">001_NON_PEAK_DURATION</option>
															<option value="NO_PREFIX_8_8_COUNT">NO_PREFIX_8_8_COUNT</option>
															<option value="NO_PREFIX_8_8_DURATION">NO_PREFIX_8_8_DURATION</option>
															<option value="NO_PREFIX_NON_PEAK_COUNT">NO_PREFIX_NON_PEAK_COUNT</option>
															<option value="NO_PREFIX_NON_PEAK_DURATION">NO_PREFIX_NON_PEAK_DURATION</option>
														</select>
													</div>
												</div>
											</div>
											<div x-show="monitoringData.usageServiceType === 'voice'">
												<div class="mb-3 row">
													<label for="usageTypeVoice" class="col-sm-2 col-form-label">Usage Type<sup><i class="fas fa-asterisk"></i></sup></label>
													<div class="col-sm-10">
														<select id="usageTypeVoice" class="form-control" x-model="monitoringData.usageType">
															<option>Choose...</option>
															<option value="VOICE_COUNT">VOICE_COUNT</option>
															<option value="VOICE_MINS">VOICE_MINS</option>
															<option value="VOICE_AMOUNT">VOICE_AMOUNT</option>
															<option value="VOICE_OFFNET_COUNT">VOICE_OFFNET_COUNT</option>
															<option value="VOICE_OFFNET_MINS">VOICE_OFFNET_MINS</option>
															<option value="VOICE_OFFNET_AMOUNT">VOICE_OFFNET_AMOUNT</option>
															<option value="VOICE_ONNET_COUNT">VOICE_ONNET_COUNT</option>
															<option value="VOICE_ONNET_MINS">VOICE_ONNET_MINS</option>
															<option value="VOICE_ONNET_AMOUNT">VOICE_ONNET_AMOUNT</option>
															<option value="VOICE_INCOMING_COUNT">VOICE_INCOMING_COUNT</option>
															<option value="VOICE_INCOMING_MINS">VOICE_INCOMING_MINS</option>
															<option value="VOICE_INCOMING_AMOUNT">VOICE_INCOMING_AMOUNT</option>
															<option value="VOICE_LOCAL_USAGE">VOICE_LOCAL_USAGE</option>
															<option value="VOICE_LOCAL_DURATION">VOICE_LOCAL_DURATION</option>
														</select>
													</div>
												</div>
											</div>
											<div x-show="monitoringData.usageServiceType === 'data'">
												<div class="mb-3 row">
													<label for="usageTypeData" class="col-sm-2 col-form-label">Usage Type<sup><i class="fas fa-asterisk"></i></sup></label>
													<div class="col-sm-10">
														<select id="usageTypeData" class="form-control" x-model="monitoringData.usageType">
															<option>Choose...</option>
															<option value="DATA_VOLUME">DATA_VOLUME</option>
															<option value="DATA_AMOUNT">DATA_AMOUNT</option>
															<option value="DATA_LOCAL_USAGE">DATA_LOCAL_USAGE</option>
															<option value="DATA_LOCAL_DURATION">DATA_LOCAL_DURATION</option>
															<option value="DATA_ROAMING_USAGE">DATA_ROAMING_USAGE</option>
															<option value="DATA_ROAMING">DATA_ROAMING_DURATION</option>
														</select>
													</div>
												</div>
											</div>
											<div x-show="monitoringData.usageServiceType === 'SMS'">
												<div class="mb-3 row">
													<label for="usageTypeSMS" class="col-sm-2 col-form-label">Usage Type<sup><i class="fas fa-asterisk"></i></sup></label>
													<div class="col-sm-10">
														<select id="usageTypeSMS" class="form-control" x-model="monitoringData.usageType">
															<option>Choose...</option>
															<option value="SMS_ALL_COUNT">SMS_ALL_COUNT</option>
															<option value="SMS_ALL_AMOUNT">SMS_ALL_AMOUNT</option>
															<option value="SMS_OFFNET_COUNT">SMS_OFFNET_COUNT</option>
															<option value="SMS_OFFNET_AMOUNT">SMS_OFFNET_AMOUNT</option>
															<option value="SMS_ONNET_COUNT">SMS_ONNET_COUNT</option>
															<option value="SMS_ONNET_AMOUNT">SMS_ONNET_AMOUNT</option>
														</select>
													</div>
												</div>
											</div>
											<div x-show="monitoringData.usageServiceType === 'IDD'">
												<div>
													<div class="mb-3 row">
														<label for="countryCode" class="col-sm-2 col-form-label">Country Code<sup><i class="fas fa-asterisk"></i></sup></label>
														<div class="col-sm-10">
															<select id="countryCode" multiple>
																<option>Choose...</option>
																<template x-for="list in countryList">
																	<option x-model="list.countryCode"><span x-text="list.countryName"></span></option>
																</template>
															</select>
														</div>
													</div>
													<div class="mb-3 row">
														<label for="usageTypeIDD" class="col-sm-2 col-form-label">Usage Type<sup><i class="fas fa-asterisk"></i></sup></label>
														<div class="col-sm-10">
															<select id="usageTypeIDD" class="form-control" x-model="monitoringData.usageType">
																<option>Choose...</option>
																<option value="MA_AMOUNT">MA_AMOUNT</option>
																<option value="DA_AMOUNT">DA_AMOUNT</option>
																<option value="SMS_COUNT">SMS_COUNT</option>
																<option value="MA_CHARGED_SMS">MA_CHARGED_SMS</option>
																<option value="DA_CHARGED_SMS">DA_CHARGED_SMS</option>
																<option value="019_8_8_COUNT">019_8_8_COUNT</option>
																<option value="019_8_8_DURATION">019_8_8_DURATION</option>
																<option value="001_8_8_COUNT">001_8_8_COUNT</option>
																<option value="001_8_8_DURATION">001_8_8_DURATION</option>
																<option value="019_NON_PEAK_COUNT">019_NON_PEAK_COUNT</option>
																<option value="019_NON_PEAK_DURATION">019_NON_PEAK_DURATION</option>
																<option value="001_NON_PEAK_COUNT">001_NON_PEAK_COUNT</option>
																<option value="001_NON_PEAK_DURATION">001_NON_PEAK_DURATION</option>
																<option value="NO_PREFIX_8_8_COUNT">NO_PREFIX_8_8_COUNT</option>
																<option value="NO_PREFIX_8_8_DURATION">NO_PREFIX_8_8_DURATION</option>
																<option value="NO_PREFIX_NON_PEAK_COUNT">NO_PREFIX_NON_PEAK_COUNT</option>
																<option value="NO_PREFIX_NON_PEAK_DURATION">NO_PREFIX_NON_PEAK_DURATION</option>
																<option value="VOICE_IDD_USAGE">VOICE_IDD_USAGE</option>
																<option value="VOICE_IDD_DURATION">VOICE_IDD_DURATION</option>
															</select>
														</div>
													</div>
												</div>
											</div>
											<div class="mb-3 row">
												<label x-show="monitoringData.usageServiceType != 'all'"  for="topUpValue" class="col-sm-2 col-form-label">Usage<sup><i class="fas fa-asterisk"></i></sup></label>
												<label x-show="monitoringData.usageServiceType == 'all'" for="topUpValue" class="col-sm-2 col-form-label">Usage</label>
												<div class="col-sm-4">
													<select id="usageOperatorsDropdown" class="form-control" x-model="monitoringData.usageOperator">
														<option>Choose...</option>
														<option value="lessThan">Less than</option>
														<option value="moreThan">More than</option>
														<option value="equalTo">Equal to</option>
														<option value="lessOrEqual">Less than or Equal to</option>
														<option value="moreOrEqualTo">More than or Equal to</option>
													</select>
												</div>
												<div class="col-sm-2">
													<input type="number" class="form-control" id="usageValue" x-model="monitoringData.usageValue">
												</div>
												<div class="col-sm-2">
													<select class="form-control" x-model="monitoringData.usageUnit">
														<option>Choose...</option>
														<option value="GB">GB</option>
														<option value="Mins">Mins</option>
														<option value="Count">Count</option>
														<option value="$">$</option>
													</select>
												</div>
											</div>
											<div class="mb-3 row">
												<label for="topUpValue" class="col-sm-2 col-form-label">Aggregation Period<sup><i class="fas fa-asterisk"></i></sup></label>
												<span>Upcoming</span>
												<div class="col-sm-2">
													<input type="number" class="form-control" x-model="monitoringData.aggregationPeriodDays" min="0" max="180">
												</div>
												<span>Days</span>
											</div>
											<div class="mb-3 row">
												<label for="topUpValue" class="col-sm-2 col-form-label">Current Balance</label>
												<div class="col-sm-5">
													<select id="usageCurrentBalanceOperators" class="form-control" x-model="monitoringData.topUpCurBalanceOp">
														<option value="lessThan">Less than</option>
														<option value="moreThan">More than</option>
														<option value="equalTo">Equal to</option>
														<option value="lessOrEqual">Less than or Equal to</option>
														<option value="moreOrEqualTo">More than or Equal to</option>
													</select>
												</div>
												<div class="col-sm-5">
													<input type="text" class="form-control" id="usageCurrentBalanceValue" x-model="monitoringData.topUpCurBalanceValue">
												</div>
											</div>
											<div class="mb-3 row">
												<label for="topUpValue" class="col-sm-2 col-form-label">Account Balance Before</label>
												<div class="col-sm-5">
													<select id="usageAccountBalanceOperators" class="form-control" x-model="monitoringData.topUpAccBalanceBeforeOp">
														<option value="lessThan">Less than</option>
														<option value="moreThan">More than</option>
														<option value="equalTo">Equal to</option>
														<option value="lessOrEqual">Less than or Equal to</option>
														<option value="moreOrEqualTo">More than or Equal to</option>
													</select>
												</div>
												<div class="col-sm-5">
													<input type="text" class="form-control" id="usageAccountBalanceValue" x-model="monitoringData.topUpAccBalanceBeforeValue">
												</div>
											</div>
											<div class="mb-3 row">
												<label for="refillProfileID" class="col-sm-2 col-form-label">DA ID</label>
												<div class="col-sm-10">
													<input type="text" class="form-control" id="usageDaID" x-model="monitoringData.topUpDaId">
												</div>
											</div>
											<div class="mb-3 row">
												<label for="topUpValue" class="col-sm-2 col-form-label">DA Balance</label>
												<div class="col-sm-5">
													<select id="monitoringDataUsageTopUpDaBalanceOperators" class="form-control" x-model="monitoringData.topUpDaBalanceOp">
														<option value="lessThan">Less than</option>
														<option value="moreThan">More than</option>
														<option value="equalTo">Equal to</option>
														<option value="lessOrEqual">Less than or Equal to</option>
														<option value="moreOrEqualTo">More than or Equal to</option>
													</select>
												</div>
												<div class="col-sm-5">
													<input type="text" class="form-control" id="monitoringDataUTopUpDaBalanceValue" x-model="monitoringData.topUpDaBalanceValue">
												</div>
											</div>
											<div class="mb-3 row">
												<label class="col-sm-2 col-form-label">DA Expiry Date</label>
												<div class="col-sm-4">
													<div class="input-group date" data-provider="datepicker">
														<input type="datetime-local" class="form-control" x-model="daExpiryDateMonitor">
														<div class="input-group-addon">
															<span class="glyphicon glyphicon-th"></span>
														</div>
													</div>
												</div>
											</div>
											<div class="mb-3 row">
												<label class="col-sm-2 col-form-label">Service Class</label>
												<div class="col-sm-10">
													<input type="text" class="form-control" id="monitoringDataUTopUpTemporaryServiceClass" x-model="monitoringData.topUpTempServiceClass">
												</div>
											</div>
											<div class="mb-3 row">
												<label class="col-sm-2 col-form-label">IMEI</label>
												<div class="col-sm-10">
													<input type="text" class="form-control" id="monitoringDataUTopUpIMEI" x-model="monitoringData.imei">
												</div>
											</div>
											<div class="mb-3 row">
												<label class="col-sm-2 col-form-label">DA Change</label>
												<div class="col-sm-10">
													<input type="text" class="form-control" id="monitoringDataUTopUpDAChange" x-model="monitoringData.daChange">
												</div>
											</div>
											<div class="mb-3 row">
												<label class="col-sm-2 col-form-label">Charged Amount</label>
												<div class="col-sm-10">
													<input type="text" class="form-control" id="monitoringDataUTopUpChargeAmount" x-model="monitoringData.chargedAmount">
												</div>
											</div>
											<div class="mb-3 row">
												<label class="col-sm-2 col-form-label">Roaming Flag</label>
												<div class="col-sm-10">
													<input type="text" class="form-control" id="roamingFlagValMonitor" x-model="monitoringData.roamingFlag">
												</div>
											</div>
											<div class="mb-3 row">
												<label class="col-sm-2 col-form-label">Rate Plan ID</label>
												<div class="col-sm-10">
													<input type="text" class="form-control" id="ratePlanIDValMonitor" x-model="monitoringData.ratePlanId">
												</div>
											</div>
										</div>
									</div>
									<div x-show="eventTypeData === 'ARPU'">
										<div class="eventTypeFulfillmentMonitoring" id="ARPUForm">
											<div class="mb-3 row">
												<label for="operators" class="col-sm-2 col-form-label">OPID</label>
												<div class="col-sm-10">
													<input type="text" class="form-control" id="operatorsARPU" x-model="monitoringData.operatorId">
												</div>
											</div>
											<div class="mb-3 row">
												<label for="topUpValue" class="col-sm-2 col-form-label">ARPU Type<sup><i class="fas fa-asterisk"></i></sup></label>
												<div class="col-sm-5">
													<select id="topUpValueARPUValue" class="form-control" x-model="monitoringData.arpuType">
														<option>Choose...</option>
														<option value="allTopUp">ALL TOP UP</option>
														<option value="paidTopUp">PAID TOP UP</option>
														<option value="selfServe">SELF SERVE</option>
														<option value="others">OTHERS</option>
													</select>
												</div>
												<template x-if="monitoringData.arpuType === 'others'">
													<div class="col-sm-5">
														<input type="text" class="form-control" id="monitoringDataArpuSelectedTopUpCode" x-model="monitoringData.arpuSelectedTopUpCode">
													</div>
												</template>
											</div>
											<div class="mb-3 row">
												<label for="topUpValue" class="col-sm-2 col-form-label">ARPU Value<sup><i class="fas fa-asterisk"></i></sup></label>
												<div class="col-sm-5">
													<select id="paidARPUTopUpValueOperators" class="form-control" x-model="monitoringData.arpuOp">
														<option>Choose...</option>
														<option value="lessThan">Less than</option>
														<option value="moreThan">More than</option>
														<option value="equalTo">Equal to</option>
														<option value="lessOrEqual">Less than or Equal to</option>
														<option value="moreOrEqualTo">More than or Equal to</option>
														<option value="isBetween">Is Between</option>
													</select>
												</div>
												<div class="col-sm-5">
													<input type="text" class="form-control" id="paidARPUValue" x-model="monitoringData.arpuValue">
												</div>
											</div>
											<div class="mb-3 row">
												<label for="topUpValue" class="col-sm-2 col-form-label">Aggregation Period<sup><i class="fas fa-asterisk"></i></sup></label>
												<span>Upcoming</span>
												<div class="col-sm-2">
													<input type="number" class="form-control" x-model="monitoringData.aggregationPeriodDays" min="0" max="180">
												</div>
												<span>Days</span>
											</div>
										</div>
									</div>
									<div id="monitoringFulfillmentPeriod">
										<b>Monitoring Fulfillment Period<sup><i class="fas fa-asterisk"></i></sup>:</b>
										<br>
										<br>
										<div class="form-group row">
											<label for="isOfferLevelCapOnly" class="col-sm-2 col-form-label col-form-label-sm"> Monitor Specified Period </label>
											<div class="col-sm-1">
												<div class="custom-control custom-radio">
													<input type="radio" x-model="monitoringFulfillmentRadio" id="isRedemptionCapOnly" name="radioMonitoringSpecified" class="custom-control-input" value="specified-period">
													<label class="custom-control-label" for="isRedemptionCapOnly"></label>
												</div>
											</div>
											<div class="col-sm-8">
												<div class="row">
													<div class="col-sm-2"> Start Date </div>
													<div class="col-sm-4">
														<div class="input-group date" data-provider="datepicker">
															<input :disabled="!monitoringFulfillmentRadio || monitoringFulfillmentRadio === 'period-only'" type="datetime-local" class="form-control" id="start-date" x-model="monitoringData.monitorStartDate">
															<div class="input-group-addon">
																<span class="glyphicon glyphicon-th"></span>
															</div>
														</div>
													</div>
													<div class="col-sm-2"> End Date </div>
													<div class="col-sm-4">
														<div class="input-group date" data-provider="datepicker">
															<input :disabled="!monitoringFulfillmentRadio || monitoringFulfillmentRadio === 'period-only'" type="datetime-local" class="form-control" id="end-date" x-model="monitoringData.monitorEndDate">
															<div class="input-group-addon">
																<span class="glyphicon glyphicon-th"></span>
															</div>
														</div>
													</div>
												</div>
											</div>
										</div>
										<div class="form-group row">
											<label class="col-sm-2 col-form-label col-form-label-sm">Monitor Period </label>
											<div class="col-sm-1">
												<div class="custom-control custom-radio">
													<input type="radio" x-model="monitoringFulfillmentRadio" id="monitorPeriodRadio" name="radioMonitoringSpecified" class="custom-control-input" value="period-only">
													<label class="custom-control-label" for="monitorPeriodRadio"></label>
												</div>
											</div>
											<div class="col-sm-8">
												<div class="row">
													<div class="col-sm-4">
														<input min="1" max="31" :disabled="!monitoringFulfillmentRadio || monitoringFulfillmentRadio === 'specified-period'" type="number" class="form-control" id="periodValue" x-model="monitoringData.monitorPeriod">
													</div>
													<div class="col-sm-3">
														<select :disabled="!monitoringFulfillmentRadio || monitoringFulfillmentRadio === 'specified-period'" class="form-control" x-model="monitoringData.monitorPeriodDayMonth">
															<option value="month">Month</option>
															<option value="days">Days</option>
														</select>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</template>
						</div>
					</div>
				</div>
				<div class="card">
					<div class="card-header" id="headingFive">
						<div id="redemptionAccordion" class="toggle-title collapsed" data-toggle="collapse" data-target="#collapseFive"><h5><i class="fa fa-plus"></i> Redemption Policy - <label x-show="['directProvisioning', 'offerMonitoringWithAssignment', 'eventConditionDirectProvisioning'].includes(type)">Required</label><label x-show="type == 'eventCondition'">Not Applicable</label></h5></div>
					</div>
					<div id="collapseFive" class="collapse" aria-labelledby="headingFive" data-parent="#directProvisioning">
						<div class="card-body" x-show="type === 'directProvisioning' || type === 'offerMonitoringWithAssignment' || type === 'eventConditionDirectProvisioning'">
							<template x-if="redemptionData">
								<div>
									<div id="redemptionMethodForm">
										<div class="form-group row">
											<label class="col-sm-2 col-form-label col-form-label"><b>Redemption Method</b></label>
											<div class="col-sm-3">
												<select class="form-control mb-2 mr-sm-2" id="redemptionAutoOrManual" x-model="redemptionMethod">
													<option>Choose...</option>
													<option value="Auto">Auto Redemption</option>
													<option value="Manual">Manual Redemption</option>
												</select>
											</div>
										</div>
										<template x-if="redemptionMethod === 'Auto'">
											<div>
												<div id="subscriberRedemptionCapFormAuto" x-show="offerTypeDropdown != 'NONE'">
													<b>Subscriber Redemption Cap</b><br><br>
													<div class="form-group row">
														<button @click="uncheckSubscriberRedemption" class="btn btn-singtel"><i class="far fa-times-circle"></i> Uncheck Subscriber Redemption</button>
													</div>
													<div class="form-group row">
														<label for="isOfferLevelCapOnly" class="col-sm-2 col-form-label col-form-label">
															Frequency Only
														</label>
														<div class="col-sm-1">
															<div class="custom-control custom-radio">
																<input type="radio" :disabled="recurringProvisioning === 'yes'" id="isFrequencyOnlyIDAuto" name="radioSubscriberRedemption" class="custom-control-input" value="freq-only" x-model="subscriberRedemptionCapRadio">
																<label class="custom-control-label" for="isFrequencyOnlyIDAuto"></label>
															</div>
														</div>
														<div class="col-sm-4">
															<input :disabled="!subscriberRedemptionCapRadio || subscriberRedemptionCapRadio === 'freq-timeperiod' || recurringProvisioning === 'yes'" type="number" class="form-control form-control-sm" id="frequencyValueAuto" x-model="redemptionData.frequencyValue">
														</div>
													</div>
													<div class="form-group row">
														<label class="col-sm-2 col-form-label col-form-label">
															Frequency and Time Period
														</label>
														<div class="col-sm-1">
															<div class="custom-control custom-radio">
																<input type="radio" :disabled="recurringProvisioning === 'yes'" id="isFrequencyAndTimeAuto" name="radioSubscriberRedemption" class="custom-control-input" value="freq-timeperiod" x-model="subscriberRedemptionCapRadio">
																<label class="custom-control-label" for="isFrequencyAndTimeAuto"></label>
															</div>
														</div>
														<div class="col-sm-2">
															<label class="sr-only" for="timePeriodValue">Name</label>
															<input :disabled="!subscriberRedemptionCapRadio || subscriberRedemptionCapRadio === 'freq-only' || recurringProvisioning === 'yes'" type="number" min="1" max="31" class="form-control mb-2 mr-sm-2" id="timePeriodValueAuto" x-model="redemptionData.timePeriodValue">
														</div>
														<label class="col-sm-1 col-form-label col-form-label">in Every</label>
														<div class="col-sm-2">
															<label class="sr-only" for="timePeriodValue2">Name</label>
															<input :disabled="!subscriberRedemptionCapRadio || subscriberRedemptionCapRadio === 'freq-only' || recurringProvisioning === 'yes'" type="number" min="1" max="31" class="form-control mb-2 mr-sm-2" id="timePeriodValue2Auto" x-model="redemptionData.timePeriodEvery">
														</div>
														<div class="col-sm-2">
															<select :disabled="!subscriberRedemptionCapRadio || subscriberRedemptionCapRadio === 'freq-only' || recurringProvisioning === 'yes'" class="form-control mb-2 mr-sm-2" x-model="redemptionData.timePeriodType">
																<option>Choose...</option>
																<option value="Days">Days</option>
																<option value="Month">Month</option>
															</select>
														</div>
													</div>
												</div><br>
												<div id="redemptionCapFormAuto" x-show="offerTypeDropdown != 'NONE'">
													<b>Total Redemption Cap</b><br><br>
													<div class="form-group row">
														<button @click="uncheckTotalRedemption" class="btn btn-singtel"><i class="far fa-times-circle"></i> Uncheck Total Redemption</button>
													</div>
													<div class="form-group row">
														<label for="isOfferLevelCapOnly" class="col-sm-2 col-form-label col-form-label">
															Total Number of Redemption
														</label>
														<div class="col-sm-1">
															<div class="custom-control custom-radio">
																<input type="radio" :disabled="recurringProvisioning === 'yes'" id="isRedemptionCapOnlyIDAuto" name="radioTotalRedemption" class="custom-control-input" value="redemption-only" x-model="totalRedemptionCapRadio">
																<label class="custom-control-label" for="isRedemptionCapOnlyIDAuto"></label>
															</div>
														</div>
														<div class="col-sm-4">
															<input :disabled="!totalRedemptionCapRadio || totalRedemptionCapRadio === 'redemption-time-period' || recurringProvisioning === 'yes'" type="number" class="form-control form-control-sm" id="redemptionCapValueAuto" x-model="redemptionData.redemptionCapValue">
														</div>
													</div>
													<div class="form-group row">
														<label class="col-sm-2 col-form-label col-form-label">Redemption and Time Period
														</label>
														<div class="col-sm-1">
															<div class="custom-control custom-radio">
																<input type="radio" :disabled="recurringProvisioning === 'yes'" id="isRedemptionCapAndPeriodIDAuto" name="radioTotalRedemption" class="custom-control-input" value="redemption-time-period" x-model="totalRedemptionCapRadio">
																<label class="custom-control-label" for="isRedemptionCapAndPeriodIDAuto"></label>
															</div>
														</div>
														<div class="col-sm-2">
															<label class="sr-only" for="totalRedemptionPeriodValue">Name</label>
															<input :disabled="!totalRedemptionCapRadio || totalRedemptionCapRadio === 'redemption-only' || recurringProvisioning === 'yes'" type="number" min="1" max="31" class="form-control mb-2 mr-sm-2" id="totalRedemptionPeriodValueAuto" x-model="redemptionData.totalRedemptionPeriodValue">
														</div>
														<label class="col-sm-1 col-form-label col-form-label">in Every</label>
														<div class="col-sm-2">
															<label class="sr-only" for="timePeriodValueEvery">Name</label>
															<input :disabled="!totalRedemptionCapRadio || totalRedemptionCapRadio === 'redemption-only' || recurringProvisioning === 'yes'" type="number" min="1" max="31" class="form-control mb-2 mr-sm-2" id="timePeriodValueEveryAuto" x-model="redemptionData.totalRedemptionPeriodEvery">
														</div>
														<div class="col-sm-2">
															<select :disabled="!totalRedemptionCapRadio || totalRedemptionCapRadio === 'redemption-only' || recurringProvisioning === 'yes'" class="form-control mb-2 mr-sm-2" x-model="redemptionData.totalRedemptionPeriodType">
																<option>Choose...</option>
																<option value="Days">Days</option>
																<option value="Month">Month</option>
															</select>
														</div>
													</div>
												</div>
												<div x-show="offerTypeDropdown != 'NONE'">
													<span>Is this recurring? </span>
													<input type="radio" value="yes" x-model="recurringProvisioning"> Yes
													<input type="radio" value="no" x-model="recurringProvisioning"> No
													<br><br>
													<div x-show="recurringProvisioning =='yes'">
														<b>Recurring Provisioning</b><br><br>
														<div class="form-group row">
															<label for="totalRecurringFrequency" class="col-sm-2 col-form-label col-form-label">Total Frequency</label>
															<div class="col-sm-4">
																<input type="number" class="form-control form-control-sm" x-model="redemptionData.totalRecurringFrequency">
															</div>
														</div>
														<div class="form-group row">
															<label class="col-sm-2 col-form-label col-form-label">Recurring Frequency</label>
															<div class="col-sm-1">
																<div class="custom-control custom-radio">
																	<input type="radio" id="radioRecurringRedemptionIDX" name="radioRecurringRedemption" class="custom-control-input" value="req-day" x-model="recurringRedemptionRadio">
																	<label class="custom-control-label" for="radioRecurringRedemptionIDX"></label>
																</div>
															</div>
															<label class="col-sm-2 col-form-label col-form-label">Once in Every</label>
															<div class="col-sm-2">
																<label class="sr-only" for="inputRecFreqDPIn">Name</label>
																<input :disabled="!recurringRedemptionRadio || recurringRedemptionRadio === 'req-month'" type="number" min="1" max="28" class="form-control mb-2 mr-sm-2" x-model="redemptionData.recurringFrequencyPeriodValue">
															</div>
															<div class="col-sm-2"> Days
															</div>
														</div>
														<div class="form-group row">
															<label class="col-sm-2 col-form-label col-form-label"></label>
															<div class="col-sm-1">
																<div class="custom-control custom-radio">
																	<input type="radio" id="isRecurringFrequencyEachMonthIDX" name="radioRecurringRedemption" class="custom-control-input" value="req-month" x-model="recurringRedemptionRadio">
																	<label class="custom-control-label" for="isRecurringFrequencyEachMonthIDX"></label>
																</div>
															</div>
															<div class="col-sm-1">On</div>
															<div class="col-sm-2">
																<input :disabled="!recurringRedemptionRadio || recurringRedemptionRadio === 'req-day'" type="number" min="1" max="28" class="form-control mb-2 mr-sm-2" id="dayRecFreqX" x-model="redemptionData.recurringFrequencyDayOfMonth">
															</div>
															<label class="col-sm-2 col-form-label col-form-label">day of each month</label>
														</div>
													</div>
													<hr>
												</div>
												<b>Post Provision Message</b><br><br>
												<div class="form-group row">
													<label class="col-sm-2 col-form-label col-form-label">SMS Campaign Name</label>
													<div class="col-sm-4">
														<input type="text" class="form-control form-control-sm" x-model="redemptionData.postSmsCampaignName">
													</div>
												</div>
												<div class="form-group row">
													<label class="col-sm-2 col-form-label col-form-label">Dynamic Variable 1</label>
													<div class="col-sm-4">
														<input type="text" class="form-control form-control-sm" id="dynamicVariable1" x-model="redemptionData.dynamicVariable1">
													</div>
												</div>
												<div class="form-group row">
													<label class="col-sm-2 col-form-label col-form-label">Dynamic Variable 2</label>
													<div class="col-sm-4">
														<input type="text" class="form-control form-control-sm" id="dynamicVariable2" x-model="redemptionData.dynamicVariable2">
													</div>
												</div>
												<div class="form-group row">
													<label class="col-sm-2 col-form-label col-form-label">Dynamic Variable 3</label>
													<div class="col-sm-4">
														<input type="text" class="form-control form-control-sm" x-model="redemptionData.dynamicVariable3">
													</div>
												</div>
												<div class="form-group row">
													<label class="col-sm-2 col-form-label col-form-label">Dynamic Variable 4</label>
													<div class="col-sm-4">
														<input type="text" class="form-control form-control-sm" x-model="redemptionData.dynamicVariable4">
													</div>
												</div>
												<div class="form-group row">
													<label class="col-sm-2 col-form-label col-form-label">Dynamic Variable 5</label>
													<div class="col-sm-4">
														<input type="text" class="form-control form-control-sm" x-model="redemptionData.dynamicVariable5">
													</div>
												</div>
											</div>
										</template>
										<template x-if="redemptionMethod === 'Manual'">
											<div class="manualRedemptionSelection">
												<div id="subscriberRedemptionCapForm" x-show="offerTypeDropdown != 'NONE'">
													<b>Subscriber Redemption Cap</b><br><br>
													<div class="form-group row">
														<button @click="uncheckSubscriberRedemption" class="btn btn-singtel"><i class="far fa-times-circle"></i> Uncheck Subscriber Redemption</button>
													</div>
													<div class="form-group row">
														<label for="isOfferLevelCapOnly" class="col-sm-2 col-form-label col-form-label">
															Frequency Only
														</label>
														<div class="col-sm-1">
															<div class="custom-control custom-radio">
																<input type="radio" :disabled="recurringProvisioning === 'yes'" id="isFrequencyOnlyID" name="radioSubscriberRedemption" class="custom-control-input" value="freq-only" x-model="subscriberRedemptionCapRadio">
																<label class="custom-control-label" for="isFrequencyOnlyID"></label>
															</div>
														</div>
														<div class="col-sm-4">
															<input :disabled="!subscriberRedemptionCapRadio || subscriberRedemptionCapRadio === 'freq-timeperiod' || recurringProvisioning === 'yes'" type="number" class="form-control form-control-sm" id="frequencyValue" x-model="redemptionData.frequencyValue">
														</div>
													</div>
													<div class="form-group row">
														<label class="col-sm-2 col-form-label col-form-label">
															Frequency and Time Period
														</label>
														<div class="col-sm-1">
															<div class="custom-control custom-radio">
																<input type="radio" :disabled="recurringProvisioning === 'yes'" id="isFrequencyAndTime" name="radioSubscriberRedemption" class="custom-control-input" value="freq-timeperiod" x-model="subscriberRedemptionCapRadio">
																<label class="custom-control-label" for="isFrequencyAndTime"></label>
															</div>
														</div>
														<div class="col-sm-2">
															<label class="sr-only" for="timePeriodValue">Name</label>
															<input :disabled="!subscriberRedemptionCapRadio || subscriberRedemptionCapRadio === 'freq-only' || recurringProvisioning === 'yes'" type="number" min="1" max="31" class="form-control mb-2 mr-sm-2" id="timePeriodValue" x-model="redemptionData.timePeriodValue">
														</div>
														<label class="col-sm-1 col-form-label col-form-label">in Every</label>
														<div class="col-sm-2">
															<label class="sr-only" for="timePeriodValue2">Name</label>
															<input :disabled="!subscriberRedemptionCapRadio || subscriberRedemptionCapRadio === 'freq-only' || recurringProvisioning === 'yes'" type="number" min="1" max="31" class="form-control mb-2 mr-sm-2" id="timePeriodValue2" x-model="redemptionData.timePeriodEvery">
														</div>
														<div class="col-sm-2">
															<select :disabled="!subscriberRedemptionCapRadio || subscriberRedemptionCapRadio === 'freq-only' || recurringProvisioning === 'yes'" class="form-control mb-2 mr-sm-2" x-model="redemptionData.timePeriodType">
																<option>Choose...</option>
																<option value="Days">Days</option>
																<option value="Month">Month</option>
															</select>
														</div>
													</div>
												</div><br>
												<div id="redemptionCapForm" x-show="offerTypeDropdown != 'NONE'">
													<b>Total Redemption Cap</b><br><br>
													<div class="form-group row">
														<button @click="uncheckTotalRedemption" class="btn btn-singtel"><i class="far fa-times-circle"></i> Uncheck Total Redemption</button>
													</div>
													<div class="form-group row">
														<label for="isOfferLevelCapOnly" class="col-sm-2 col-form-label col-form-label">
															Total Number of Redemption
														</label>
														<div class="col-sm-1">
															<div class="custom-control custom-radio">
																<input type="radio" :disabled="recurringProvisioning === 'yes'" id="isRedemptionCapOnlyID" name="radioTotalRedemption" class="custom-control-input" value="redemption-only" x-model="totalRedemptionCapRadio">
																<label class="custom-control-label" for="isRedemptionCapOnlyID"></label>
															</div>
														</div>
														<div class="col-sm-4">
															<input :disabled="!totalRedemptionCapRadio || totalRedemptionCapRadio === 'redemption-time-period' || recurringProvisioning === 'yes'" type="number" class="form-control form-control-sm" id="redemptionCapValue" x-model="redemptionData.redemptionCapValue">
														</div>
													</div>
													<div class="form-group row">
														<label class="col-sm-2 col-form-label col-form-label">Redemption and Time Period
														</label>
														<div class="col-sm-1">
															<div class="custom-control custom-radio">
																<input type="radio" :disabled="recurringProvisioning === 'yes'" id="isRedemptionCapAndPeriodID" name="radioTotalRedemption" class="custom-control-input" value="redemption-time-period" x-model="totalRedemptionCapRadio">
																<label class="custom-control-label" for="isRedemptionCapAndPeriodID"></label>
															</div>
														</div>
														<div class="col-sm-2">
															<label class="sr-only" for="totalRedemptionPeriodValue">Name</label>
															<input :disabled="!totalRedemptionCapRadio || totalRedemptionCapRadio === 'redemption-only' || recurringProvisioning === 'yes'" type="number" min="1" max="31" class="form-control mb-2 mr-sm-2" id="totalRedemptionPeriodValue" x-model="redemptionData.totalRedemptionPeriodValue">
														</div>
														<label class="col-sm-1 col-form-label col-form-label">in Every</label>
														<div class="col-sm-2">
															<label class="sr-only" for="timePeriodValueEvery">Name</label>
															<input :disabled="!totalRedemptionCapRadio || totalRedemptionCapRadio === 'redemption-only' || recurringProvisioning === 'yes'" type="number" min="1" max="31" class="form-control mb-2 mr-sm-2" id="timePeriodValueEvery" x-model="redemptionData.totalRedemptionPeriodEvery">
														</div>
														<div class="col-sm-2">
															<select :disabled="!totalRedemptionCapRadio || totalRedemptionCapRadio === 'redemption-only' || recurringProvisioning === 'yes'" class="form-control mb-2 mr-sm-2" x-model="redemptionData.totalRedemptionPeriodType">
																<option>Choose...</option>
																<option value="Days">Days</option>
																<option value="Month">Month</option>
															</select>
														</div>
													</div>
												</div>
												<div x-show="offerTypeDropdown != 'NONE'">
													<hr>
													<span>Is this recurring? </span>
													<input type="radio" value="yes" x-model="recurringProvisioning"> Yes
													<input type="radio" value="no" x-model="recurringProvisioning"> No
													<br><br>
													<div id="recurringRedemptionCapForm" x-show="recurringProvisioning =='yes'">
														<b>Recurring Provisioning</b><br><br>
														<div class="form-group row">
															<label for="totalRecurringFrequency" class="col-sm-2 col-form-label col-form-label">Total Frequency</label>
															<div class="col-sm-4">
																<input type="number" class="form-control form-control-sm" id="totalRecurringFrequency" x-model="redemptionData.totalRecurringFrequency">
															</div>
														</div>
														<div class="form-group row">
															<label class="col-sm-2 col-form-label col-form-label">Recurring Frequency</label>
															<div class="col-sm-1">
																<div class="custom-control custom-radio">
																	<input type="radio" id="radioRecurringRedemptionID" name="radioRecurringRedemption" class="custom-control-input" value="req-day" x-model="recurringRedemptionRadio">
																	<label class="custom-control-label" for="radioRecurringRedemptionID"></label>
																</div>
															</div>
															<label class="col-sm-2 col-form-label col-form-label">Once in Every</label>
															<div class="col-sm-2">
																<label class="sr-only" for="inputRecFreqDPIn">Name</label>
																<input :disabled="!recurringRedemptionRadio || recurringRedemptionRadio === 'req-month'" type="number" min="1" max="28" class="form-control mb-2 mr-sm-2" id="inputRecFreqDPIn" x-model="redemptionData.recurringFrequencyPeriodValue">
															</div>
															<div class="col-sm-2"> Days
															</div>
														</div>
														<div class="form-group row">
															<label class="col-sm-2 col-form-label col-form-label"></label>
															<div class="col-sm-1">
																<div class="custom-control custom-radio">
																	<input type="radio" id="isRecurringFrequencyEachMonthID" name="radioRecurringRedemption" class="custom-control-input" value="req-month" x-model="recurringRedemptionRadio">
																	<label class="custom-control-label" for="isRecurringFrequencyEachMonthID"></label>
																</div>
															</div>
															<div class="col-sm-2">
																<label class="sr-only" for="dayRecFreq">Day</label>
																<input :disabled="!recurringRedemptionRadio || recurringRedemptionRadio === 'req-day'" type="number" min="1" max="28" class="form-control mb-2 mr-sm-2" id="dayRecFreq" x-model="redemptionData.recurringFrequencyDayOfMonth">
															</div>
															<label class="col-sm-2 col-form-label col-form-label">day of each month</label>
														</div>
													</div><hr>
												</div>
												<b>Redemption Channel:</b>
												<br>
												<br>
												<div class="form-group row">
													<label class="col-sm-2 col-form-label col-form-label">SMS Campaign Name<sup><i class="fas fa-asterisk"></i></sup></label>
													<div class="col-sm-4">
														<input type="text" class="form-control form-control-sm" id="manualSmsCampaignName" x-model="redemptionData.smsCampaignName">
													</div>
												</div>
												<div class="form-group row">
													<label class="col-sm-2 col-form-label col-form-label">Opt in Keyword<sup><i class="fas fa-asterisk"></i></sup></label>
													<div class="col-sm-2">
														<label class="sr-only">Name</label>
														<input type="text" class="form-control mb-2 mr-sm-2" id="inputKeywordDP" x-model="redemptionData.optKeyword">
													</div>
												</div>
												<div id="redemptionOPTinKeyword">
													<b>Opt in Keyword Valdity<sup><i class="fas fa-asterisk"></i></sup>:</b>
													<br>
													<br>
													<div class="form-group row">
														<label for="isOfferLevelCapOnly" class="col-sm-2 col-form-label col-form-label-sm"> Date Range </label>
														<div class="col-sm-1">
															<div class="custom-control custom-radio">
																<input type="radio" x-model="redemptionOptKeywordRadio" id="isDateRange" name="radioOptInKeywordValidity" class="custom-control-input" value="date-range">
																<label class="custom-control-label" for="isDateRange"></label>
															</div>
														</div>
														<div class="col-sm-8">
															<div class="row">
																<div class="col-sm-2"> Start Date </div>
																<div class="col-sm-4">
																	<div class="input-group date" data-provider="datepicker">
																		<input :disabled="!redemptionOptKeywordRadio || redemptionOptKeywordRadio === 'period-only'" type="datetime-local" class="form-control" x-model="redemptionData.optStartDate">
																		<div class="input-group-addon">
																			<span class="glyphicon glyphicon-th"></span>
																		</div>
																	</div>
																</div>
																<div class="col-sm-2"> End Date </div>
																<div class="col-sm-4">
																	<div class="input-group date" data-provider="datepicker">
																		<input :disabled="!redemptionOptKeywordRadio || redemptionOptKeywordRadio === 'period-only'" type="datetime-local" class="form-control" x-model="redemptionData.optEndDate">
																		<div class="input-group-addon">
																			<span class="glyphicon glyphicon-th"></span>
																		</div>
																	</div>
																</div>
															</div>
														</div>
													</div>
													<div class="form-group row">
														<label class="col-sm-2 col-form-label col-form-label-sm">Period </label>
														<div class="col-sm-1">
															<div class="custom-control custom-radio">
																<input type="radio" x-model="redemptionOptKeywordRadio" id="isPeriod" name="radioOptInKeywordValidity" class="custom-control-input" value="period-only">
																<label class="custom-control-label" for="isPeriod"></label>
															</div>
														</div>
														<div class="col-sm-8">
															<div class="row">
																<div class="col-sm-4">
																	<input :disabled="!redemptionOptKeywordRadio || redemptionOptKeywordRadio === 'date-range'" type="number" min="1" max="365" class="form-control" x-model="redemptionData.optPeriod">
																</div>
																<div class="col-sm-3">
																	Days
																</div>
															</div>
														</div>
													</div>
												</div>
												<b>Post Provision Message</b><br><br>
												<div class="form-group row">
													<label class="col-sm-2 col-form-label col-form-label">SMS Campaign Name</label>
													<div class="col-sm-4">
														<input type="text" class="form-control form-control-sm" id="smaCampaignNameManual" x-model="redemptionData.postSmsCampaignName">
													</div>
												</div>
												<div class="form-group row">
													<label class="col-sm-2 col-form-label col-form-label">Dynamic Variable 1</label>
													<div class="col-sm-4">
														<input type="text" class="form-control form-control-sm" x-model="redemptionData.dynamicVariable1">
													</div>
												</div>
												<div class="form-group row">
													<label class="col-sm-2 col-form-label col-form-label">Dynamic Variable 2</label>
													<div class="col-sm-4">
														<input type="text" class="form-control form-control-sm" x-model="redemptionData.dynamicVariable2">
													</div>
												</div>
												<div class="form-group row">
													<label class="col-sm-2 col-form-label col-form-label">Dynamic Variable 3</label>
													<div class="col-sm-4">
														<input type="text" class="form-control form-control-sm" id="dynamicVariable3" x-model="redemptionData.dynamicVariable3">
													</div>
												</div>
												<div class="form-group row">
													<label class="col-sm-2 col-form-label col-form-label">Dynamic Variable 4</label>
													<div class="col-sm-4">
														<input type="text" class="form-control form-control-sm" id="dynamicVariable4" x-model="redemptionData.dynamicVariable4">
													</div>
												</div>
												<div class="form-group row">
													<label class="col-sm-2 col-form-label col-form-label">Dynamic Variable 5</label>
													<div class="col-sm-4">
														<input type="text" class="form-control form-control-sm" id="dynamicVariable5" x-model="redemptionData.dynamicVariable5">
													</div>
												</div>
											</div>
										</template>
									</div>
								</div>
							</template>
						</div>
					</div>
				</div>
			</div>

			<br>
			<div class="form-group">
				<button class="btn btn-block btn-singtel" id="saveConfiguration" @click="saveConfiguration()"><i class="fas fa-save"></i> Save</button>
			</div>

		</div>
	</div><br><br>

	<div class="form-group" style="visibility: hidden">
		<label>Message : <span id="instanceId" th:text="${instanceId}" /></label>
	</div>

	<div class="modal hide" id="successDialog" data-backdrop="static" data-keyboard="false">
		<div class="modal-body">
			<div id="ajax_loader">
				<div class="alert alert-success" role="alert">
					Configuration saved...
				</div>
			</div>
		</div>
	</div>

	<div class="modal hide" id="failedDialog" data-backdrop="static" data-keyboard="false">
		<div class="modal-body">
			<div id="ajax_loader_danger">
				<div class="alert alert-danger" role="alert">
					ERROR. Configuration not saved.
				</div>
			</div>
		</div>
	</div>

</div>

<script src="https://cdn.jsdelivr.net/npm/vue@2"></script>
<script src="https://unpkg.com/vue-select@latest"></script>
<link rel="stylesheet" href="https://unpkg.com/vue-select@latest/dist/vue-select.css">

<script src="https://oracle.kakatoa.net/assets/js/jquery.min.js"></script>
<script src="https://oracle.kakatoa.net/assets/js/popper.min.js"></script>
<script src="https://oracle.kakatoa.net/assets/js/bootstrap.min.js"></script>
<script src="https://oracle.kakatoa.net/assets/js/alpine.min.js"></script>
<script src="https://oracle.kakatoa.net/assets/js/moment.min.js"></script>
<script src="https://oracle.kakatoa.net/assets/js/tempusdominus-bootstrap-4.min.js"></script>
<script src="https://oracle.kakatoa.net/assets/js/select2.min.js"></script>
<script src="https://oracle.kakatoa.net/assets/js/bootstrap-datepicker.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://oracle.kakatoa.net/assets/js/sweetalert.min.js"></script>

<script src="https://oracle.kakatoa.net/assets/js/sweetalert.min.js"></script>
<!--jQUERY BEGIN-->
<script>
	function jQuery() {

		$(document).ready(function() {
			$('#select2multiple').select2();
			$('#promoCodeMultiple').select2({
				maximumSelectionLength: 2,
				minimumResultsForSearch: -1,
				tags: true
			});
			// $('#promoCodeMultiple').select2();
			$('#promoCodeMultiple').on("select2:select", function (evt) {
				let element = evt.params.data.element;
				let $element = $(element);

				$element.detach();
				$(this).append($element);
				$(this).trigger("change");
			});
			$('#eventConditionDataUsageTypeAll').select2();
			$('#usageTypeAll').select2();
			$('#countryCodeIDD').select2();
			$('#countryCode').select2();
		});

		// Plus Minus Icon for Accordion BEGIN
		$(document).ready(function(){
			// Add minus icon for collapse element which is open by default
			$(".collapse.show").each(function(){
				$(this).prev(".card-header").find(".fa").addClass("fa-minus").removeClass("fa-plus");
			});

			// Toggle plus minus icon on show hide of collapse element
			$(".collapse").on('show.bs.collapse', function(){
				$(this).prev(".card-header").find(".fa").removeClass("fa-plus").addClass("fa-minus");
			}).on('hide.bs.collapse', function(){
				$(this).prev(".card-header").find(".fa").removeClass("fa-minus").addClass("fa-plus");
			});
		});
		// Plus Minus Icon for Accordion END

		// Event Fulfillment Monitoring Policy Dropdown BEGIN
		$(document).ready(function(){
			$("#topUpForm").show();
			$("#usageForm").hide();
			$("#ARPUForm").hide();

			$('#eventTypeData').on('change', function() {
				$(".eventTypeFulfillmentMonitoring").hide();

				if (this.value == 'Top-Up')
				{
					$("#topUpForm").show();
				}
				if (this.value == 'Usage')
				{
					$("#usageForm").show();
				}
				if (this.value == 'ARPU')
				{
					$("#ARPUForm").show();
				}
			});
		});
		// Event Fulfillment Monitoring Policy Dropdown END

		// Redemption Policy - Redemption Method Dropdown BEGIN
		$(document).ready(function(){
			$(".manualRedemptionSelection").hide();

			$('#redemptionAutoOrManual').on('change', function() {
				$(".manualRedemptionSelection").hide();

				if (this.value == 'Auto')
				{
					$(".manualRedemptionSelection").hide();
				}
				if (this.value == 'Manual')
				{
					$(".manualRedemptionSelection").show();
				}
			});
		});
		// Redemption Policy - Redemption Method Dropdown END

		function closeAlertDialog() {
			$('#successDialog').modal('hide');
			$('#failedDialog').modal('hide');
		}

		var eventMethod = window.addEventListener ? "addEventListener" : "attachEvent";
		var eventer = window[eventMethod];
		var messageEvent = eventMethod == "attachEvent" ? "onmessage" : "message";

		// Listen response message from child window
		eventer(messageEvent,function(e) {
			console.log('parent received message!:  ',e.data);
			var payload = JSON.parse(e.data);
			console.log(e.data.httpStatusCode)

			$('#offerCodeId').text(payload.offerBucketCode);
			$('#offerNameId').text(payload.offerCampaignName);

			$('#statusId').text(e.data.configurationStatus);

			if(e.data.httpStatusCode == 200){
				$('#successDialog').modal();
			} else {
				$('#failedDialog').modal();
			}

			// $('#successDialog').modal();
			setTimeout(closeAlertDialog, 1000);
		},false);
	}
</script>
<!--jQUERY END-->

<!-- VueJS START -->
<script>

	const INSTANCE_ID = $("#instanceId").text();
	// const INSTANCE_ID = '63483226-49f3-48a2-8720-4f4c47021e32';
	const PROD_URL = 'https://jihefwrkoypnlto6hgcr6lvvxi.apigateway.eu-frankfurt-1.oci.customer-oci.com/cxdev2/data/';
	const PROD_URLs = 'http://localhost:8090/data/';
	const OFFERMGMT_URL = 'https://jihefwrkoypnlto6hgcr6lvvxi.apigateway.eu-frankfurt-1.oci.customer-oci.com/offerMgmt/';


	// handle the state management of data
	var store = {
		debug: true,
		state: {},
	}



	const formatDate = date => date.toISOString().slice(0, 10);
	var dateToday = formatDate(new Date());

	function uuidv4() {
		var a, b, c, d;
		var time = Math.round(new Date().getTime() / 1000);
		var version = window.navigator.appVersion;
		var href = window.location.href;

		// a - unix timestamp
		a = time.toString(16).substring(0, 8);

		// b - browser
		var match = version.match(/\d+/g);
		if (!match) {
			throw 'Invalid browser version string';
		}
		var sum = 0;
		for (var i = 0, ii = match.length; i < ii; ++i) {
			sum += parseInt(match[i], 10);
		}
		b = (sum * sum * sum).toString(16).substring(0, 6);

		// c - url
		c = (href.length * href.length * href.length).toString(16).substring(0, 4);

		// d - random
		d = Math.random().toString().substring(2);
		d = parseInt(d, 10);
		d = d.toString(16).substring(0, 6);

		return [a, b, c, d].join('-');
	};


	Vue.component('table-column-modal',{
		props:['modaltrigger', 'modaltriggerfn', 'groupid','savedatafn', 'fetchedtablelist'],
		data:function () {
			return {
				dataId:null,
				selectedTable:null,
				selectedColumn:null,
				selectedColumnName:null,
				selectedColumnType:null,
				tableColumnList:[],
				numberOption: ['SUM','AVERAGE','MEAN','MEDIAN'],
				numberOperand: ['>','<', '>=', '<=', '=', '!='],
				varCharOption:['MATCHES','EQUALS','STARTS WITH'],
				selectedNumberOption:'SUM',
				selectedOperand:'>',
				numberValue:0,
				selectedDateType:'exactDate',
				exactDate:'',
				daysBefore:0,
				duration:0,
				selectedVarCharOption: 'MATCHES',
				selectedValue:'',
				selectedOption: null,
				value: null,

				selectedFetchTable:null,
				fetchedColumnList:[],


			}
		},
		template:
				`<div  v-show="modaltrigger === true">
				<div name="modal">
					<div class="modal-mask">
						<div class="modal-wrapper">
							<div class="modal-container">
								<div class="modal-header">
									<slot name="header">
										<h5> Add Data </h5>
										<button class="btn" @click="modaltriggerfn" @click="clearDropdown">
											<i class="fa fa-times" aria-hidden="true"></i>
										</button>
									</slot>
								</div>
								<div class="modal-body-add-data">
									<slot name="body">
										<div class="row" style="margin-bottom:10px;">
											<div class=" col-sm-5 ">

												<v-select
														placeholder='Select Table'
														class="basic-dropdown"
														style="margin:5px; padding:0px !Important;"
														:options="fetchedtablelist"
														label="table_name"
														:clearable="false"
														v-model="selectedFetchTable"
														@input="setSelectedFetchTable"
												></v-select>

											</div>
											<div class=" col-sm-5 ">
												<div v-show="selectedFetchTable !== null && fetchedColumnList.length > 0">
													<v-select
															placeholder='Select Column'
															class="basic-dropdown"
															style="margin:5px; padding:0px !Important;"
															:options="fetchedColumnList"
															:clearable="false"
															v-model="selectedColumn"
															label="column_name"
													></v-select>

												</div>
											</div>
										</div>
										<div>
											<div v-show="selectedColumn && selectedColumn.column_type === 'NUMBER'">
												<div class="row data-type">
													<div class=" col-sm-12" style=" margin-top:5px; align-self: center;">
														<div style="margin-left: 5px !important;"><b>Datatype: NUMBER Condition </b> </div>

													</div>
													<div class=" col-sm-3 ">
														<v-select
																placeholder='-----'
																class="basic-dropdown"
																style="margin:5px; padding:0px !Important;"
																:options="numberOption"
																:clearable="false"
																v-model="selectedNumberOption"
														></v-select>
													</div>
													<div class=" col-sm-2 ">
														<v-select
																placeholder='-----'
																class="basic-dropdown"
																style="margin:5px; padding:0px !Important;"
																:options="numberOperand"
																:clearable="false"
																v-model="selectedOperand"
														></v-select>
													</div>
													<div class=" col-sm-2 ">
														<input
																type="number" min="0"
																class="form-control form-control-sm input-custom"
																style="margin-left:0px"
																v-model.number="numberValue"
																@input="removeNegative($event,'numberValue', numberValue)"/>
													</div>
													<div class=" col-sm-5"> </div>

													<div class=" col-sm-2" style=" margin-top:20px; align-self: center;">
														<div style="margin-left: 5px !important;"><b> Duration (days)</b> </div>

													</div>
													<div class=" col-sm-2" style="margin-top:20px;">
														<div style="margin-left: 5px !important;"><b> Start Date</b></div>


													</div>
													<div class=" col-sm-8"></div>

													<div class=" col-sm-2">
														<input
																type="number" min="0"
																class="form-control form-control-sm input-custom"
																style="margin-left: 5px !important;"
																v-model.number="duration"
																@input="removeNegative($event,'duration', duration)"/>
													</div>
													<div class=" col-sm-2">
														<input type="radio" id="exactDate" value="exactDate" v-model="selectedDateType">
														<label for="exactDate" style="margin-bottom:0px;">exact date</label>
														<br>
														<input type="radio" id="daysBefore" value="daysBefore" v-model="selectedDateType">
														<label for="daysBefore">days before</label>
													</div>
													<div class=" col-sm-8">
														<div  v-show="selectedDateType === 'exactDate'">
															<input
																	type="date"
																	@change="updateExactDate"
																	style="width:25%; margin-left:0px !important;"
																	class="form-control form-control-sm input-custom"
																	v-model="exactDate"
																	id="exactDate"/>
														</div>
														<div v-show="selectedDateType === 'daysBefore'">
															<input
																	type="number" min="0"
																	class="form-control form-control-sm input-custom"
																	style="width:20%; margin-left:0px !important;"
																	v-model.number="daysBefore"
																	@input="removeNegative($event,'daysBefore', daysBefore)"/>
														</div>
													</div>
												</div>

											</div>
											<div v-show="selectedColumn && selectedColumn.column_type === 'VARCHAR'">
												<div class="row data-type">
													<div class=" col-sm-12" style=" margin-top:5px; align-self: center;">
														<div style="margin-left: 5px !important;"><b>Datatype: VARCHAR Condition </b> </div>
													</div>
													<div class=" col-sm-3 ">
														<v-select
																placeholder='-----'
																class="basic-dropdown"
																style="margin:3px; padding:0px !Important;"
																:options="varCharOption"
																:clearable="false"
																v-model="selectedVarCharOption"
														></v-select>
													</div>
													<div class=" col-sm-4 ">
														<input
																placeholder='type any here...'
																type="text"
																class="form-control form-control-sm input-custom"
																style="margin-left:0px !important;"
																v-model="selectedValue"/>
													</div>
												</div>
											</div>
											<div v-show="selectedColumn && selectedColumn.column_type === 'DATE'">
												<div class="row data-type">
													<div class=" col-sm-2" style=" margin-top:20px; align-self: center;">
														<div style="margin-left: 5px !important;"><b> Duration (days)</b> </div>

													</div>
													<div class=" col-sm-2" style="margin-top:20px;">
														<div style="margin-left: 5px !important;"><b> Start Date</b></div>


													</div>
													<div class=" col-sm-8"></div>

													<div class=" col-sm-2">
														<input
																type="number" min="0"
																class="form-control form-control-sm input-custom"
																style="margin-left: 5px !important;"
																v-model.number="numberValue"
																@input="removeNegative($event,'numberValue', numberValue)"/>
													</div>
													<div class=" col-sm-2">
														<input type="radio" id="exactDate" value="exactDate" v-model="selectedDateType">
														<label for="exactDate" style="margin-bottom:0px;">exact date</label>
														<br>
														<input type="radio" id="daysBefore" value="daysBefore" v-model="selectedDateType">
														<label for="daysBefore">days before</label>
													</div>
													<div class=" col-sm-8">
														<div  v-show="selectedDateType === 'exactDate'">
															<input
																	type="date"
																	@change="updateExactDate"
																	style="width:25%; margin-left:0px !important;"
																	class="form-control form-control-sm input-custom"
																	v-model="exactDate"
																	id="exactDate"/>
														</div>
														<div v-show="selectedDateType === 'daysBefore'">
															<input
																	type="number" min="0"
																	class="form-control form-control-sm input-custom"
																	style="width:20%; margin-left:0px !important;"
																	v-model.number="daysBefore"
																	@input="removeNegative($event, 'daysBefore', daysBefore)"/>
														</div>
													</div>
												</div>
											</div>


										</div>
										<div class="modal-footer">
											<button class="btn" @click="modaltriggerfn" @click="clearDropdown">
												Back
											</button>
											<button class="btn btn-singtel" @click="modaltriggerfn" @click="saveAndClearDropdown" :disabled="selectedColumn=== null">
												Save
											</button>
										</div>
									</slot>
								</div>
							</div>
						</div>
					</div>
				</div>
				</div>`,
		methods:{
			setSelectedFetchTable () {

				fetch(`https://jihefwrkoypnlto6hgcr6lvvxi.apigateway.eu-frankfurt-1.oci.customer-oci.com/offerMgmt/AdvFilters/${this.selectedFetchTable.af_tables_id}`)
						//fetch(OFFERMGMT_URL + `AdvFilters/${this.selectedFetchTable.af_tables_id}`)
						.then(res => res.json())
						.then(data => {
							this.fetchedColumnList = data.items;
							return this.fetchedColumnList;
						})
						.catch(error => console.log(error))
						.finally()

				// everytime table was changed, this will clear the previous data
				this.selectedColumn = null;
				this.selectedNumberOption='SUM';
				this.selectedOperand = '>';
				this.numberValue = 0;
				this.selectedDateType = 'exactDate';
				this.exactDate = '';
				this.daysBefore = 0;
				this.duration = 0;
				this.selectedVarCharOption = 'MATCHES';
				this.selectedValue = '';

			},

			updateExactDate () {
				console.log(this.exactDate)
			},

			removeNegative(e,type, value) {

				value = Math.max(0, parseInt(e.target.value) || 0);

				if(type==='numberValue'){
					this.numberValue = value;
				} else if (type==='daysBefore') {
					this.daysBefore = value;
				} else if (type==='duration') {
					this.duration = value;
				}
			},
			clearDropdown () {
				console.log(this.selectedColumn,'data')
				this.dataId = null;
				this.selectedTable = null;
				this.selectedColumn = null;
				this.selectedColumnName = null;
				this.selectedColumnType = null;
				this.tableColumnList = [];
				this.selectedNumberOption='SUM';
				this.selectedOperand = '>';
				this.numberValue = 0;
				this.selectedDateType = 'exactDate';
				this.exactDate = '';
				this.daysBefore = 0;
				this.duration = 0;
				this.selectedVarCharOption = 'MATCHES';
				this.selectedValue = '';
				this.value = null;

				this.selectedFetchTable = null;
			},
			saveAndClearDropdown () {
				console.log(this.selectedColumn,'data')
				this.mergeData();
				this.dataId = null;
				this.selectedTable = null;
				this.selectedColumn = null;
				this.selectedColumnName = null;
				this.selectedColumnType = null;
				this.tableColumnList = [];
				this.selectedNumberOption='SUM';
				this.selectedOperand = '>';
				this.numberValue = 0;
				this.selectedDateType = 'exactDate';
				this.exactDate = '';
				this.daysBefore = 0;
				this.duration = 0;
				this.selectedVarCharOption = 'MATCHES';
				this.selectedValue = '';
				this.value = null;

				this.selectedFetchTable = null;
			},
			mergeData () {
				var mergedData = {};
				mergedData['dataId'] = uuidv4();
				mergedData['selectedTable'] = this.selectedFetchTable.table_name;
				mergedData['selectedColumn'] = this.selectedColumn;
				mergedData['selectedColumnName'] = this.selectedColumn.column_name;
				mergedData['selectedColumnType'] = this.selectedColumn.column_type;
				mergedData['selectedDataType'] = this.selectedColumn.column_type;
				mergedData['selectedNumberOption'] = this.selectedNumberOption;
				mergedData['selectedOperand'] = this.selectedOperand;
				mergedData['numberValue'] = this.numberValue;
				mergedData['selectedDateType'] = this.selectedDateType;
				mergedData['exactDate'] = this.exactDate;
				mergedData['daysBefore'] = this.daysBefore;
				mergedData['duration'] = this.duration;
				mergedData['selectedVarCharOption'] = this.selectedVarCharOption;
				mergedData['selectedValue'] = this.selectedValue;


				if(this.selectedColumn.column_type === 'NUMBER') {
					mergedData ['selectedOption'] = this.selectedNumberOption;
					mergedData ['value'] = this.numberValue;
					// selectedOption
				} else if (this.selectedColumn.column_type === 'VARCHAR') {
					mergedData ['selectedOption'] = this.selectedVarCharOption;
					mergedData ['value'] = this.selectedValue;
				}
				console.log(mergedData,'merged data');

				this.savedatafn(mergedData);
			},

		},
	})




	Vue.component('data-component', {
		props:['data' , 'deletedatafn','groupid'],
		data: function() {
			return {
				numberOption: ['SUM','AVERAGE','MEAN','MEDIAN'],
				numberOperand: ['>','<', '>=', '<=', '=', '!='],
				varCharOption:['MATCHES','EQUALS','STARTS WITH'],
				selectedDateType:'exactDate',
			}
		},
		template:
				`  <div class="data-card wrapper" style="margin-left: 1% !important;">
				<div class="row justify-content-between">
					<div class="col-md-3" style="margin-left:20px !important; margin-top: 5px">
						<div><b>Table:</b> {{data.selectedTable}}</div>
						<div><b>Column:</b> {{data.selectedColumn.column_name}}</div>
					</div>
					<div class="col-md-6" style="margin-left:0px !important;  margin-top: 5px" v-show="data.selectedColumn.column_type==='NUMBER'">
						<div class="form-group row justify-content-start" style="margin-bottom: 0px">
							<div class="col-md-4" style="padding:0px">
								<v-select
										placeholder='-----'
										class="basic-dropdown"
										style="margin:5px; padding:0px !Important;"
										:options="numberOption"
										:clearable="false"
										v-model="data.selectedNumberOption"
								></v-select>
							</div>

							<div class="col-md-3" style="padding-left:5px; padding-right:5px">
								<v-select
										placeholder='-----'
										class="basic-dropdown"
										style="margin:5px; padding:0px !Important;"
										:options="numberOperand"
										:clearable="false"
										v-model="data.selectedOperand"
								></v-select>

							</div>

							<div class="col-md-3" style="padding:0px">
								<input
										type="number" min="0"
										class="form-control form-control-sm input-custom"
										style="margin-left:0px; height:78%"
										v-model.number="data.numberValue"
										@input="removeNegative($event,'numberValue', data.numberValue)"/>
							</div>


						</div>
						<div class="form-group row justify-content-start">
							<span style="margin-top:7px; margin-left:5px;"> Duration (days)</span>
							<span>
                                    <input
											type="number" min="0"
											class="form-control form-control-sm input-custom"
											style="width:100px; margin-left:10px"
											v-model.number="data.duration"
											@input="removeNegative($event,'duration', data.duration)"/>
                                </span>

						</div>
						<div class="form-group row justify-content-start" style="margin-bottom: 1px">
							<span style="margin-top:7px; margin-left:5px;">Start Date</span>
							<span style="margin-left:10px;">
                                            <input type="radio" id="exactDate" value="exactDate" v-model="data.selectedDateType"/>
                                            <label style="margin-bottom:0px;">exact date</label>
                                            <br>
                                            <input type="radio" id="daysBefore" value="daysBefore" v-model="data.selectedDateType"/>
                                            <label >days before</label>
                                </span>
							<span style="margin-left:15px;">
                                    <div  v-show="data.selectedDateType === 'exactDate'">
                                                <input
														type="date"
														@change="updateExactDate"
														style="width:100%; margin-left:0px !important;"
														class="form-control form-control-sm input-custom"
														v-model="data.exactDate"
														id="exactDate"/>
                                            </div>
                                            <div v-show="data.selectedDateType === 'daysBefore'">
                                                <input
														type="number" min="0"
														class="form-control form-control-sm input-custom"
														style="width:100px; margin-left:0px !important;"
														v-model.number="data.daysBefore"
														@input="removeNegative($event,'daysBefore', daysBefore)"
														id="daysBefore" />
                                            </div>
                                </span>
						</div>


					</div>
					<div class="col-md-6" style="margin-left:0px !important;  margin-top: 5px" v-show="data.selectedColumn.column_type==='VARCHAR'">
						<div class="form-group row justify-content-start" style="margin-bottom: 0px">
							<div class=" col-sm-4 " style="padding:0px">
								<v-select
										placeholder='-----'
										class="basic-dropdown"
										style="margin:5px; padding:0px !Important;"
										:options="varCharOption"
										:clearable="false"
										v-model="data.selectedVarCharOption"
								></v-select>
							</div>
							<div class=" col-sm-4 ">
								<input
										placeholder='type any here...'
										type="text"
										class="form-control form-control-sm input-custom"
										style="margin-left:0px; height:80%"
										v-model="data.selectedValue"/>
							</div>
						</div>
					</div>
					<div class="col-md-6" style="margin-left:0px !important;  margin-top: 5px" v-show="data.selectedColumn.column_type==='DATE'">
						<div class="form-group row justify-content-start" style="margin-bottom: 0px">
							<span style="margin-top:7px; margin-left:5px;"> Duration (days)</span>
							<span>
                                    <input
											type="number" min="0"
											class="form-control form-control-sm input-custom"
											style="width:100px; margin-left:10px"
											v-model.number="data.duration"
											@input="removeNegative($event,'duration', duration)"/>
                                </span>
						</div>
						<div class="form-group row justify-content-start" style="margin-bottom: 1px">
							<span style="margin-top:7px; margin-left:5px;">Start Date</span>
							<span style="margin-left:10px;">
                                    <input type="radio" id="exactDate" value="exactDate" v-model="data.selectedDateType">
                                            <label style="margin-bottom:0px;">exact date</label>
                                            <br>
                                            <input type="radio" id="daysBefore" value="daysBefore" v-model="data.selectedDateType">
                                            <label >days before</label>
                                </span>
							<span style="margin-left:15px;">
                                    <div  v-show="data.selectedDateType === 'exactDate'">
                                                <input
														type="date"
														@change="updateExactDate"
														style="width:100%; margin-left:0px !important;"
														class="form-control form-control-sm input-custom"
														v-model="data.exactDate"
														id="exactDate"/>
                                            </div>
                                            <div v-show="data.selectedDateType === 'daysBefore'">
                                                <input
														type="number" min="0"
														class="form-control form-control-sm input-custom"
														style="width:100px; margin-left:0px !important;"
														v-model.number="data.daysBefore"
														@input="removeNegative($event,'daysBefore', daysBefore)"/>
                                            </div>
                                </span>
						</div>
					</div>
					<div class="col-md-2" >
						<button @click="deletedatafn(groupid, data.dataId)"
								type="button"class="btn btn-outline-danger btn-sm"
								style="float:right; border-radius: 50%;
                                border: 1px solid #ff000061; margin-top: 5px; margin-right:5px"><i class="fas fa fa-trash"></i> </button>
					</div>
				</div>
				</div>`
		,
		methods: {
			removeNegative(e, type, value) {
				value = Math.max(0, parseInt(e.target.value) || 0);

				if(type==='numberValue'){
					this.data.numberValue = value;
				} else if (type==='daysBefore') {
					this.data.daysBefore = value;
				} else if (type==='duration') {
					this.data.duration = value;
				}
			},
			updateExactDate () {
				console.log(this.exactDate)
			},
		}
	})


	Vue.component('query-component', {
		props: ['maindata', 'modaltriggerfn','deletegroupfn', 'deletedatafn', 'modaltrigger', 'getadddatagroupidfn','savedatafn', 'creategroupfn','fetchedtablelist'],
		data: function () {
			return {
				groupId:null,
				condition:[' ','AND', 'OR'],
				selectedCondition:''
			}
		},
		template:
				`<div>
				<div class="row component-card justify-content-between" v-for="y in maindata" :key="y">
					<div class=" col-sm-4 ">
						<div v-show="y.groups.length > 0 || y.dataList.length > 0">
							<v-select
									placeholder='----'
									class="operators"
									style="margin:3px; padding:0px !Important;"
									:options="condition"
									:clearable="false"
									v-model="y.groupCondition"
							></v-select>
						</div>
					</div>

					<div class="col-sm-4" style="margin-top:3px;" >
						<div class="form-group row justify-content-end">
							<button @click="modaltriggerfn" @click="getadddatagroupidfn(y.groupId)" class="btn btn-create-group btn-sm" style="margin-right:2%" > Add Data</button>
							<button @click="creategroupfn(y.groupId)" class="btn btn-create-group btn-sm" style="margin-right:5%"> Create Group</button>
							<button @click="deletegroupfn(y.groupId)" type="button"class="btn btn-danger btn-sm" style="max-width: 35px !important;"
									v-show="!y.rootGroup"><i class="fas fa fa-trash"></i></button>
						</div>
					</div>

					<div class="col-sm-12 " v-show="y.dataList">
						<div v-for="data in y.dataList">
							<data-component
									v-bind:data="data"
									v-bind:deletedatafn="deletedatafn"
									v-bind:groupid="y.groupId"></data-component>
						</div>
					</div>
					<div class="col-sm-12" v-show="y.groups">
						<query-component
								v-bind:maindata="y.groups"
								v-bind:modaltriggerfn="modaltriggerfn"
								v-bind:deletegroupfn="deletegroupfn"
								v-bind:deletedatafn="deletedatafn"
								v-bind:modaltrigger="modaltrigger"

								v-bind:fetchedtablelist = "fetchedtablelist"
								v-bind:getadddatagroupidfn="getadddatagroupidfn"
								v-bind:savedatafn="savedatafn"
								v-bind:creategroupfn ="creategroupfn"
						></query-component>
					</div>

					<table-column-modal
							v-bind:modaltrigger="modaltrigger"
							v-bind:modaltriggerfn="modaltriggerfn"

							v-bind:fetchedtablelist = "fetchedtablelist"
							v-bind:groupid="y.groupId"
							v-bind:savedatafn="savedatafn"></table-column-modal>
				</div>
				</div>`,

		methods: { },
		beforeCreate: function() {},
	})

	Vue.component('v-select', VueSelect.VueSelect)


	// Main Component for ADVANCE FILTER
	var advanceFilter = new Vue({
		el: '#advanceFilterComponent',
		data: {
			showModal: false,
			tempGroupData:{
				groupId:uuidv4(),
				rootGroup:false,
				groupCondition:'',
				groups:[],
				dataList:[]
			},
			selectedGroupId: null,
			mainData:[{
				groupId:uuidv4(),
				rootGroup:true,
				groupCondition:'',
				groups:[],
				dataList:[]
			}],
			fetchedTableList:[],
			generatedQuery:null,
			customQuery:null,
			fetchedData:null,
			advanceFilterTab:'customUI'
		},
		methods: {

			clearMainDatafn() { // to be ready
				advanceFilter.mainData = [];

				var  tempMainData ={
					groupId:uuidv4(),
					rootGroup:true,
					groupCondition:'',
					groups:[],
					dataList:[]
				};

				advanceFilter.mainData.push(tempMainData);
				console.log(advanceFilter.mainData);
			},

			showModalfn() {
				advanceFilter.showModal = !advanceFilter.showModal;
			},

			deleteViaGroupId (selectedGroupId, data) {

				if(data){
					for (var i = 0; i < data.length; i++) {
						if (selectedGroupId === data[i].groupId) {

							data.splice(i, 1);  // delete the specified group
							break;

						} else {
							console.log('not found')
							this.deleteViaGroupId(selectedGroupId, data[i].groups)
						}
					}
				}
			},

			deleteGroupfn (selectedGroupId) {
				this.deleteViaGroupId(selectedGroupId, advanceFilter.mainData)
				this.generatedQuery = null;
				this.generateSQL();
			},

			deleteViaGroupIdAndDataId (selectedGroupId, selectedDataId, data) {

				if(data){
					for (var i = 0; i < data.length; i++) {
						if (selectedGroupId === data[i].groupId) {

							if (data[i].dataList) {
								for (var d = 0; d < data[i].dataList.length; d++) {
									var obj = data[i].dataList[d];

									if (obj.dataId === selectedDataId) {
										// serarch for index under dataList

										var index = data[i].dataList.findIndex(function(o){
											return o.dataId === selectedDataId;
										})

										if (index !== -1) {
											data[i].dataList.splice(index, 1)
											break;
										}


									}
								}
							}
						} else {
							console.log('id not found')
							this.deleteViaGroupIdAndDataId(selectedGroupId, selectedDataId, data[i].groups)
						}
					}
				}
			},
			deleteDatafn (selectedGroupId, selectedDataId ) {
				this.deleteViaGroupIdAndDataId(selectedGroupId, selectedDataId, advanceFilter.mainData)
				this.generatedQuery = null;
				this.generateSQL();
			},
			addDataViaGroupId (selectedGroupId , data, savedData) {

				if(data && savedData){
					for (var i = 0; i < data.length; i++) {
						if (selectedGroupId === data[i].groupId) {
							data[i].dataList.push(savedData)
							break;

						} else {
							console.log('not found')
							this.addDataViaGroupId(selectedGroupId, data[i].groups, savedData)
						}
					}
				}

			},
			getAddDataGroupIdfn (selectedGroupId) {
				advanceFilter.selectedGroupId = selectedGroupId; // save when add data is clicked
			},
			saveDatafn(savedData) {
				this.addDataViaGroupId(advanceFilter.selectedGroupId, advanceFilter.mainData, savedData)
				advanceFilter.selectedGroupId = null;
				this.generatedQuery = null;
				this.generateSQL();
			},

			addGroupViaGroupId (selectedGroupId , data) {

				if(data){
					for (var i = 0; i < data.length; i++) {
						if (selectedGroupId === data[i].groupId) {

							var  tempGroupData ={
								groupId:uuidv4(),
								rootGroup:false,
								groupCondition:'',
								groups:[],
								dataList:[]
							};


							data[i].groups.push(tempGroupData)
							break;

						} else {
							console.log('not found')
							this.addGroupViaGroupId(selectedGroupId, data[i].groups)
						}
					}
				}
			},
			createGroupfn(selectedGroupId) {
				this.addGroupViaGroupId(selectedGroupId, advanceFilter.mainData)
				this.generatedQuery = null;
				this.generateSQL();
			},
			generateSQL () {
				console.log(advanceFilter.mainData,'dvanceFilter.mainData')
				console.log(JSON.stringify(advanceFilter.mainData))

				fetch(PROD_URL+`getSQLQuery`, {
					method: 'POST',
					mode:"cors",
					headers: {
						"Content-Type": "application/json",
						"Accept": "application/json",
						"Access-Control-Allow-Origin":"*"
					},
					/* headers: {
                       "Content-Type": "application/json",
                       "Accept": "application/json",
                       "Access-Control-Allow-Methods": "POST, GET, OPTIONS, DELETE, PUT",
                       "Access-Control-Allow-Origin":"*",
                       "Access-Control-Allow-Headers": "Content-Type, Access-Control-Allow-Headers, Authorization, X-Requested-With"
                    }, */
					body: JSON.stringify(advanceFilter.mainData)
				})

						.then(res => res.json())
						.then(data => {
							console.log(data.queryText)

							if (advanceFilter.mainData[0].groups.length === 0 && advanceFilter.mainData[0].dataList.length === 0) {
								this.generatedQuery = null;
							} else this.generatedQuery = data.queryText;
							return this.generatedQuery;
						})
						.catch(error => console.log(error))
						.finally()
			}

		},

		mounted:function () {
			//  this call the table list
			//fetch(`https://jihefwrkoypnlto6hgcr6lvvxi.apigateway.eu-frankfurt-1.oci.customer-oci.com/offerMgmt/AdvFilters/`)
			fetch(OFFERMGMT_URL + `AdvFilters/`)
					.then(res => res.json())
					.then(data => {
						this.fetchedTableList = data.items;
						return this.fetchedTableList;
					})
					.catch(error => console.log(error))
					.finally()


			const INSTANCE_ID_SAMPLE = 'b78fd36a-35c6-4bde-a7c3-d44c086abe99';
			fetch(PROD_URL+`listCXOffer?instanceId=${INSTANCE_ID}`)
					.then(res => res.json())
					.then(data => {
						console.log(data,'listCXOffers')

						// this.mainData = data.payload;
						// this.generatedQuery = data.queryText;
						// this.customQuery = data.customQuery;

						return
					})

					.catch(error => console.log(error))
					.finally()

			var dummy = [{"groupId":"61d4030e-36657f-3d0b-202323","rootGroup":true,"groupCondition":"AND","groups":[{"groupId":"61d40331-36657f-3d0b-209606","rootGroup":false,"groupCondition":"AND","groups":[],"dataList":[{"dataId":"61d40338-36657f-3d0b-259d8b","selectedTable":"F_TBL_CDR_DA_DT_A","selectedColumn":{"af_column_id":2,"af_tables_id":1,"column_name":"TRANSACTION_DATE_KEY","column_type":"NUMBER","created_date":"2021-11-22T00:00:00Z","last_modified_date":null},"selectedColumnName":"TRANSACTION_DATE_KEY","selectedColumnType":"NUMBER","selectedDataType":"NUMBER","selectedNumberOption":"SUM","selectedOperand":">","numberValue":11,"selectedDateType":"exactDate","exactDate":"2022-01-04","daysBefore":0,"duration":2,"selectedVarCharOption":"MATCHES","varCharValue":"","selectedOption":"SUM","value":11}]}],"dataList":[{"dataId":"61d4031c-36657f-3d0b-5b393f","selectedTable":"F_TBL_CDR_DA_DT_A","selectedColumn":{"af_column_id":2,"af_tables_id":1,"column_name":"TRANSACTION_DATE_KEY","column_type":"NUMBER","created_date":"2021-11-22T00:00:00Z","last_modified_date":null},"selectedColumnName":"TRANSACTION_DATE_KEY","selectedColumnType":"NUMBER","selectedDataType":"NUMBER","selectedNumberOption":"SUM","selectedOperand":">","numberValue":11,"selectedDateType":"exactDate","exactDate":"2022-01-04","daysBefore":0,"duration":2,"selectedVarCharOption":"MATCHES","varCharValue":"","selectedOption":"SUM","value":11}]}]
			this.mainData = dummy;
			console.log('dummy')
		}

	})
	console.log(advanceFilter.mainData,'xxxx')
</script>
<!--VueJS END-->

<!--AlpineJS BEGIN-->
<script>
	function configureMembership()
	{
		return {
			offers                          : [],
			offerBucketList                 : [],
			campaignOfferList               : [],
			programList                     : [],
			countryList                     : [],
			promoList                       : [],
			excludeSubscriber               : [],
			selectedCity                    : [],
			selectedType                    : null,
			selectedBucket                  : null,
			selectedBucketLabel             : null,
			selectedCampaign                : null,
			offerTypeDropdown               : 'empty',
			configureMembership             : null,
			eligibilityData                 : {},
			monitoringData                  : {},
			redemptionData                  : {},
			eventConditionData              : {},
			redemptionMethod                : null,
			type                            : null,
			eventTypeData                   : 'Top-Up',
			eventConditionTypeData          : null,
			offerLevelType                  : null,
			subscriberOfferEligibility      : null,
			monitoringFulfillmentRadio      : null,
			totalRedemptionCapRadio         : null,
			subscriberRedemptionCapRadio    : null,
			recurringProvisioning           : null,
			recurringRedemptionRadio        : null,
			// Offer Selection BEGIN
			overallOfferName                : null,
			offerSelectionSmsCampaignName   : null,
			offerSelectionDynamic1          : null,
			offerSelectionDynamic2          : null,
			offerSelectionDynamic3          : null,
			offerSelectionDynamic4          : null,
			offerSelectionPromoCode         : [],
			// Offer Selection END

			// Check Duplicate Offer Name BEGIN
			uniqueData                      : null,
			uniqueMessage                   : null,
			// Check Duplicate Offer Name END

			// Redemption BEGIN
			redemptionOptKeywordRadio       : null,
			// Redemption END

			campaignStartDate               : null,
			campaignEndDate                 : null,
			daExpiryDate                    : null,
			daExpiryDateMonitor             : null,
			eventConditionName              : null,

			init() {
				this.eventTypeDropdown(),
						this.offerBucketDropdown(),
						this.campaignOfferDropdown(),
						this.getOfferSelection(),
						this.monitoringPolicy(),
						this.redemptionPolicy(),
						this.eventConditionPolicy(),
						this.getCountryList(),
						this.provisionType()
			},

			initPage(){
				Promise.all([
					this.getProgramList(),
					this.getPromoList(),
				])
						.then(data => {
							this.eligibilityPolicy()
							this.getPromoCodeList()
							this.getNoneOfferList()
						})
			},

			uncheckTotalOffer() {
				this.offerLevelType                             = null
				this.eligibilityData.offerLevelCapValue         = null
				this.eligibilityData.offerLevelCapPeriodValue   = null
				this.eligibilityData.offerLevelCapPeriodDays    = null
			},

			uncheckSubscriber() {
				this.subscriberOfferEligibility         = null
				this.eligibilityData.frequency          = null
				this.eligibilityData.numberOfFrequency  = null
				this.eligibilityData.numberOfDays       = null

			},

			uncheckTotalRedemption() {
				this.totalRedemptionCapRadio                    = null
				this.redemptionData.redemptionCapValue          = null
				this.redemptionData.totalRedemptionPeriodValue  = null
				this.redemptionData.totalRedemptionPeriodEvery  = null
				this.redemptionData.totalRedemptionPeriodType   = null
			},

			uncheckSubscriberRedemption() {
				this.subscriberRedemptionCapRadio       = null
				this.redemptionData.frequencyValue      = null
				this.redemptionData.timePeriodValue     = null
				this.redemptionData.timePeriodEvery     = null
				this.redemptionData.timePeriodType      = null
			},

			checkUniqueOfferName() {
				if(!!this.overallOfferName) {
					fetch(PROD_URL + `checkUniqueOverallOfferName?overallOfferName=${this.overallOfferName}`)
							.then(res => res.json())
							.then(data => {

								this.uniqueData = data.unique
								this.uniqueMessage = data.message

								if (this.uniqueData == false) {
									swal("Error!", "Data Already Exist", "error");
								} else if (this.uniqueData == true) {
									swal("Success!", "Data Eligible to Use", "success");
									$("#validateOffer").attr('class', 'btn btn-green').attr("disabled", true);
								}

							})
							.catch(error => {
								console.log(error)
							})
							.finally()
				} else {
					swal("Error!", "You have to fill in Overall Offer Name", "error");
				}
			},

			checkUniqueEventCondition() {
				if(!!this.eventConditionName) {
					fetch(PROD_URL + `checkUniqueEventConditionName?eventConditionName=${this.eventConditionName}`)
							.then(res => res.json())
							.then(data => {

								this.uniqueData = data.unique
								this.uniqueMessage = data.message

								if (this.uniqueData == false) {
									swal("Error!", this.uniqueMessage, "error");
								} else if (this.uniqueData == true) {
									swal("Success!", this.uniqueMessage, "success");
									$("#validateEventCondition").attr('class', 'btn btn-green').attr("disabled", true);
								}

							})
							.catch(error => {
								console.log(error)
							})
							.finally()
				} else {
					swal("Error!", "You have to fill in Event Condition Name", "error");
				}
			},

			reValidate() {
				$("#validateOffer").attr('class', 'btn btn-singtel').attr("disabled", false);
			},

			reValidateEvent() {
				$("#validateEventCondition").attr('class', 'btn btn-singtel').attr("disabled", false);
			},

			addNewData() {
				let campaignID = this.selectedCampaign;
				let data = JSON.parse(JSON.stringify(this.offers));
				let duplicateData = data.find(val => val.offerCampaignId == campaignID);

				if ((this.selectedBucket && this.selectedCampaign != null) && this.selectedCampaign != 'Choose...' && !duplicateData) {
					fetch(PROD_URL + `offerDetail?bucketOfferId=${this.selectedBucket}&campaignOfferId=${this.selectedCampaign}`)
							.then(res => res.json())
							.then(data => {
								this.offers.push(data)
							})
							.catch(error => console.log(error))
							.finally()
				} else if (this.selectedBucket == null && this.selectedCampaign != 'Choose...' && this.offerTypeDropdown == 'MA') {
					fetch(PROD_URL + `maOfferDetail?id=${this.selectedCampaign}`)
							.then(res => res.json())
							.then(data => {
								this.offers.push(data)
							})
							.catch(error => console.log(error))
							.finally()
				} else {
					swal("Error!", "No Data", "error");
				}
			},

			eventTypeDropdown() {
				if(this.offerTypeDropdown == 'DA' || this.offerTypeDropdown == 'OMS' || this.offerTypeDropdown == 'MA' || this.offerTypeDropdown == 'empty') {
					this.$watch("offerTypeDropdown", (value) => {
						this.offerBucketList = [];
						this.campaignOfferList = [];
						// this.offerBucketDropdown();
						if (this.offerTypeDropdown == 'MA') {
							this.campaignOfferDropdown();
						} else {
							this.offerBucketDropdown();
						}
					});
				}
			},

			offerBucketDropdown() {
				this.select2 = $(this.$refs.selectBucket).select2();
				this.select2.on("select2:select", (event) => {
					this.selectedBucket = event.target.value;
					this.selectedBucketLabel = event.target.label;
				});
				this.$watch("selectedBucket", (value) => {
					this.campaignOfferList = []
					this.campaignOfferDropdown();
				});
				fetch(PROD_URL + `offerBucket?offerType=${this.offerTypeDropdown}`)
						.then(res => res.json())
						.then(data => {
							this.offerBucketList = data
						})
						.catch(error => console.log(error))
						.finally()
			},

			campaignOfferDropdown() {
				this.select2 = $(this.$refs.selectCampaign).select2();
				this.select2.on("select2:select", (event) => {
					this.selectedCampaign = event.target.value;
				});
				this.$watch("selectedCampaign", (value) => {
					this.select2.val(value).trigger("change");
				});
				if (this.selectedBucket != null) {
					if (this.offerTypeDropdown != 'MA') {
						fetch(PROD_URL + `offerCampaign?offerId=${this.selectedBucket}`)
								.then(res => res.json())
								.then(data => {
									this.campaignOfferList = data
								})
								.catch(error => console.log(error))
								.finally()
					} else {
						//fetch(PROD_URL + `offerCampaign?offerId=MA`)
						fetch(PROD_URL + `maOfferList`)
								.then(res => res.json())
								.then(data => {
									this.campaignOfferList = data
								})
								.catch(error => console.log(error))
								.finally()
					}
				} else if (this.offerTypeDropdown == 'MA') {
					//fetch(PROD_URL + `offerCampaign?offerId=MA`)
					fetch(PROD_URL + `maOfferList`)
							.then(res => res.json())
							.then(data => {
								this.campaignOfferList = data
							})
							.catch(error => console.log(error))
							.finally()
				}
			},

			removeOffer(index) {
				this.offers.splice(index, 1)
			},

			removePromo() {
				this.offerSelectionSmsCampaignName  = null
				this.offerSelectionDynamic1         = null
				this.offerSelectionDynamic2         = null
				this.offerSelectionDynamic3         = null
				this.offerSelectionDynamic4         = null

				$('#promoCodeMultiple').val([]).trigger('change');
			},

			getOfferSelection() {
				fetch(PROD_URL + `offerSelection?instanceId=${INSTANCE_ID}`)
						.then(res => res.json())
						.then(data => {
							this.offers = data
						})
						.catch(error => console.log(error))
						.finally()
			},

			getPromoCodeList() {
				fetch(PROD_URL + `offerPromoCode?instanceId=${INSTANCE_ID}`)
						.then(res => res.json())
						.then(data => {
							this.overallOfferName = data.overallOfferName
							this.offerSelectionSmsCampaignName = data.smsCampaignName
							this.offerSelectionDynamic1 = data.messageText1
							this.offerSelectionDynamic2 = data.messageText2
							this.offerSelectionDynamic3 = data.messageText3
							this.offerSelectionDynamic4 = data.messageText4

							if (data.promoCodeList != null) {
								// $('#promoCodeMultiple').val(data.promoCodeList.split(',')).trigger('change');

								let element = data.promoCodeList.split(',');

								element.forEach(item => {
									// Remove current item from DOM BEGIN
									const foundIndex = this.promoList.findIndex(promo => promo.name === item )
									if (foundIndex >= 0) this.promoList.splice(foundIndex, 1)
									// Remove current item from DOM END
									$('#promoCodeMultiple').append(new Option(item, item, true, true)); // Append data to Dropdown
								});
							}
						})
						.catch(error => console.log(error))
						.finally();
			},

			getNoneOfferList() {
				fetch(PROD_URL + `offerNoneType?instanceId=${INSTANCE_ID}`)
						.then(res => res.json())
						.then(data => {
							this.offerType = data.offerType
							this.overallOfferName = data.overallOfferName
						}).catch(error => console.log(error))
						.finally();
			},

			eligibilityPolicy() {
				fetch(PROD_URL + `offerEligibility?instanceId=${INSTANCE_ID}`)
						.then(res => res.json())
						.then(data => {

							this.eligibilityData = data

							if (data.excludeProgramId != null) {
								$('#select2multiple').val(data.excludeProgramId.split(',')).trigger('change');
							}

							// for Radio in Total Eligibility
							if (data.isOfferLevelCapOnly == true){
								this.offerLevelType = 'cap-only'
							} else if (data.isOfferLevelCapAndPeriod == true) {
								this.offerLevelType = 'cap-period'
							}

							// for Radio in Subscriber
							if (data.isFrequencyOnly == true) {
								this.subscriberOfferEligibility = 'freq-only'
							} else if (data.isFrequencyAndTime == true) {
								this.subscriberOfferEligibility = 'freq-timeperiod'
							}
						})
						.catch(error => console.log(error))
						.finally()
			},

			monitoringPolicy() {
				fetch(PROD_URL + `offerMonitoring?instanceId=${INSTANCE_ID}`)
						.then(res => res.json())
						.then(data => {
							this.monitoringData = data

							// for event type
							if (!this.eventTypeData) {
								this.eventTypeData = data.eventType
							}
							// for Radio Monitoring Fulfillment Period
							if (data.monitorPeriodRadio == true) {
								this.monitoringFulfillmentRadio = 'period-only'
							} else if (data.monitorSpecifiedPeriodRadio == true) {
								this.monitoringFulfillmentRadio = 'specified-period'
							}

							// for multiple dropdown
							if (data.usageServiceType == 'all') {
								$('#usageTypeAll').val(data.usageType.split(',')).trigger('change');
							}

							// for multiple dropdown country code
							if (data.countryCode != null) {
								$('#countryCode').val(data.countryCode.split(',')).trigger('change');
							}

							// for Da Expiry Date
							this.daExpiryDateMonitor = data.daExpiryDateMonitor != null ? data.daExpiryDateMonitor : null;

						})
						.catch(error => console.log(error))
						.finally()
			},

			eventConditionPolicy() {
				fetch(PROD_URL + `offerEventCondition?instanceId=${INSTANCE_ID}`)
						.then(res => res.json())
						.then(data => {
							this.eventConditionData = data
							this.eventConditionName = data.eventConditionName

							// For Event Condition Type Dropdown
							if (data.eventType != null) {
								this.eventConditionTypeData = data.eventType
							} else {
								this.eventConditionTypeData = 'Top-Up'
							}

							// for multiple dropdown usage type
							if (data.usageServiceType == 'all') {
								$('#eventConditionDataUsageTypeAll').val(data.eventTypeUsages.split(',')).trigger('change');
							}

							// for multiple dropdown country code
							if (data.countryCode != null) {
								$('#countryCodeIDD').val(data.countryCode.split(',')).trigger('change');
							}

							// For Start Date
							this.campaignStartDate = data.campaignStartDate != null ? data.campaignStartDate : moment().format("yyyy-MM-DD") + "T00:00";

							// For End Date
							this.campaignEndDate = data.campaignEndDate != null ? data.campaignEndDate : moment().format("yyyy-MM-DD") + "T00:00";

							// for Da Expiry Date
							this.daExpiryDate = data.daExpiryDate != null ? data.daExpiryDate : null;

						})
						.catch(error => console.log(error))
						.finally()
			},

			provisionType() {
				fetch(PROD_URL + `provisionType?instanceId=${INSTANCE_ID}`)
						.then(res => res.text())
						.then(data => {
							if (data == '') {
								this.type = 'directProvisioning'
							} else {
								this.type = data
							}
						})
						.catch(error => console.log(error))
						.finally()
			},

			redemptionPolicy() {
				fetch(PROD_URL + `offerRedemption?instanceId=${INSTANCE_ID}`)
						.then(res => res.json())
						.then(data => {
							this.redemptionData = data

							if (!this.redemptionMethod) {
								this.redemptionMethod = data.redemptionMethod
							}

							// for Radio in Total Redemption Cap
							if (data.isRedemptionCapOnly == true) {
								this.totalRedemptionCapRadio = 'redemption-only'
							} else if (data.isRedemptionCapAndPeriod == true) {
								this.totalRedemptionCapRadio = 'redemption-time-period'
							}

							// for Radio Subscriber Redemption Cap
							if (data.isFrequencyOnly == true) {
								this.subscriberRedemptionCapRadio = 'freq-only'
							} else if (data.isFrequencyAndTime == true) {
								this.subscriberRedemptionCapRadio = 'freq-timeperiod'
							}

							// for Radio is Recurring Provisioning
							if (data.recurringProvisioning == true) {
								this.recurringProvisioning = 'yes'
							} else if (data.recurringProvisioning == false) {
								this.recurringProvisioning = 'no'
							}

							//for Radio Opt in Keyword
							if (data.dateRange == true) {
								this.redemptionOptKeywordRadio = 'date-range'
							} else if (data.period == true) {
								this.redemptionOptKeywordRadio = 'period-only'
							}

							//for Recurring Frequency Radio
							if (data.isRecurringFrequencyAndPeriod == true) {
								this.recurringRedemptionRadio   = 'req-day'
							} else if (data.isRecurringFrequencyEachMonth == true)
								this.recurringRedemptionRadio   = 'req-month'
						})
						.catch(error => console.log(error))
						.finally()
			},

			getProgramList() {
				return new Promise((resolve, reject) => {
					fetch(PROD_URL + `listProgram`)
							.then(res => res.json())
							.then(data => {
								this.programList = data
								resolve('program')
							})
							.catch(error => {
								console.log(error)
								reject(error)
							})
							.finally()
				})
			},

			getCountryList() {
				fetch(PROD_URL + `listCountry`)
						.then(res => res.json())
						.then(data => {
							this.countryList = data
						})
						.catch(error => console.log(error))
						.finally()
			},

			getPromoList() {
				return new Promise((resolve, reject) => {
					fetch(PROD_URL + `listOfferType`)
							.then(res => res.json())
							.then(data => {
								this.promoList = data
								resolve('promo')
							})
							.catch(error => {
								console.log(error)
								reject(error)
							})
							.finally()
				})
			},

			saveConfiguration() {
				var message = { amsAction : "save", requestId : "save" };
				const offerEventCondition = {
					"eventType"             : this.eventConditionTypeData,
					"campaignStartDate"     : this.campaignStartDate,
					"campaignEndDate"       : this.campaignEndDate,
					"eventConditionName"    : this.eventConditionName,
				};

				if (this.eventConditionTypeData === 'Top-Up') {
					offerEventCondition.topUpType                   = this.eventConditionData.topUpType || 'All';
					offerEventCondition.creditMethod                = this.eventConditionData.creditMethod;
					offerEventCondition.usageServiceType            = this.eventConditionData.usageServiceType;
					offerEventCondition.operatorId                  = this.eventConditionData.operatorId;
					offerEventCondition.topUpCode                   = this.eventConditionData.topUpCode;
					offerEventCondition.topUpCurBalanceOp           = this.eventConditionData.topUpCurBalanceOp || 'AllTopUp';
					offerEventCondition.topUpCurBalanceValue        = this.eventConditionData.topUpCurBalanceValue;
					offerEventCondition.topUpAccBalanceBeforeOp     = this.eventConditionData.topUpAccBalanceBeforeOp || 'AllTopUp';
					offerEventCondition.topUpAccBalanceBeforeValue  = this.eventConditionData.topUpAccBalanceBeforeValue;
					offerEventCondition.topUpOp                     = this.eventConditionData.topUpOp || 'lessThan';
					offerEventCondition.topUpTransactionValue       = this.eventConditionData.topUpTransactionValue;
					offerEventCondition.topUpDaId                   = this.eventConditionData.topUpDaId;
					offerEventCondition.topUpDaBalanceOp            = this.eventConditionData.topUpDaBalanceOp || 'lessThan';
					offerEventCondition.topUpDaBalanceValue         = this.eventConditionData.topUpDaBalanceValue;
					offerEventCondition.topUpTempServiceClass       = this.eventConditionData.topUpTempServiceClass;
					offerEventCondition.daExpiryDate                = this.daExpiryDate;
					offerEventCondition.permanentServiceClass       = this.eventConditionData.permanentServiceClass;
				} else if (this.eventConditionTypeData === 'Usage') {
					offerEventCondition.usageServiceType            = this.eventConditionData.usageServiceType;
					if (this.eventConditionData.usageServiceType != 'all') {
						offerEventCondition.eventTypeUsages         = this.eventConditionData.eventTypeUsages;
					} else {
						offerEventCondition.eventTypeUsages         = $('#eventConditionDataUsageTypeAll').select2("val").toString()
					}
					offerEventCondition.eventUsagesOp               = this.eventConditionData.eventUsagesOp;
					offerEventCondition.eventUsagesValue            = this.eventConditionData.eventUsagesValue;
					offerEventCondition.aggregationPeriodDays       = this.eventConditionData.aggregationPeriodDays;
					offerEventCondition.eventUsagesUnit             = this.eventConditionData.eventUsagesUnit;
					offerEventCondition.topUpCurBalanceOp           = this.eventConditionData.topUpCurBalanceOp;
					offerEventCondition.topUpCurBalanceValue        = this.eventConditionData.topUpCurBalanceValue;
					offerEventCondition.topUpAccBalanceBeforeOp     = this.eventConditionData.topUpAccBalanceBeforeOp;
					offerEventCondition.topUpAccBalanceBeforeValue  = this.eventConditionData.topUpAccBalanceBeforeValue;
					offerEventCondition.daId                        = this.eventConditionData.daId;
					offerEventCondition.daBalanceOp                 = this.eventConditionData.daBalanceOp;
					offerEventCondition.daBalanceValue              = this.eventConditionData.daBalanceValue;
					offerEventCondition.daExpiryDate                = this.daExpiryDate;
					offerEventCondition.tempServiceClass            = this.eventConditionData.tempServiceClass;
					offerEventCondition.imei                        = this.eventConditionData.imei;
					offerEventCondition.daChange                    = this.eventConditionData.daChange;
					offerEventCondition.chargedAmount               = this.eventConditionData.chargedAmount;
					offerEventCondition.roamingFlag                 = this.eventConditionData.roamingFlag;
					offerEventCondition.ratePlanId                  = this.eventConditionData.ratePlanId;
					offerEventCondition.countryCode                 = $('#countryCodeIDD').select2("val").toString()
				} else if (this.eventConditionTypeData === 'ARPU') {
					offerEventCondition.operatorId                  = this.eventConditionData.operatorId;
					offerEventCondition.arpuType                    = this.eventConditionData.arpuType;
					if (this.eventConditionData.arpuType === 'others') {
						offerEventCondition.arpuSelectedTopUpCode   = this.eventConditionData.arpuSelectedTopUpCode;
					} else {
						offerEventCondition.arpuSelectedTopUpCode   = null;
					}
					offerEventCondition.arpuOp                      = this.eventConditionData.arpuOp;
					offerEventCondition.arpuValue                   = this.eventConditionData.arpuValue;
					// offerEventCondition.aggregationPeriodDays       = this.eventConditionData.aggregationPeriodDays;
				};

				const offerMonitoring = {
					"eventType": this.eventTypeData,
				};
				if (this.monitoringFulfillmentRadio === 'specified-period') {
					offerMonitoring.monitorPeriodRadio              = false;
					offerMonitoring.monitorSpecifiedPeriodRadio     = true;
					offerMonitoring.monitorStartDate                = this.monitoringData.monitorStartDate;
					offerMonitoring.monitorEndDate                  = this.monitoringData.monitorEndDate;
					offerMonitoring.monitorPeriod                   = null;
					offerMonitoring.monitorPeriodDayMonth           = null;
				} else if (this.monitoringFulfillmentRadio === 'period-only') {
					offerMonitoring.monitorPeriodRadio              = true;
					offerMonitoring.monitorSpecifiedPeriodRadio     = false;
					offerMonitoring.monitorStartDate                = null;
					offerMonitoring.monitorEndDate                  = null;
					offerMonitoring.monitorPeriod                   = this.monitoringData.monitorPeriod;
					offerMonitoring.monitorPeriodDayMonth           = this.monitoringData.monitorPeriodDayMonth || 'month';
				};
				if (this.eventTypeData === 'Top-Up') {
					offerMonitoring.topUpType                   = this.monitoringData.topUpType || 'All';
					offerMonitoring.operatorId                  = this.monitoringData.operatorId;
					offerMonitoring.topUpCreditMethod           = this.monitoringData.topUpCreditMethod;
					offerMonitoring.topUpUsageServiceType       = this.monitoringData.topUpUsageServiceType;
					offerMonitoring.topUpOperator               = this.monitoringData.topUpOperator;
					offerMonitoring.topUpCode                   = this.monitoringData.topUpCode;
					offerMonitoring.topUpCurBalanceOp           = this.monitoringData.topUpCurBalanceOp || 'AllTopUp';
					offerMonitoring.topUpCurBalanceValue        = this.monitoringData.topUpCurBalanceValue;
					offerMonitoring.topUpAccBalanceBeforeOp     = this.monitoringData.topUpAccBalanceBeforeOp || 'AllTopUp';
					offerMonitoring.topUpAccBalanceBeforeValue  = this.monitoringData.topUpAccBalanceBeforeValue;
					offerMonitoring.topUpOp                     = this.monitoringData.topUpOp || 'lessThan';
					offerMonitoring.topUpTransactionValue       = this.monitoringData.topUpTransactionValue;
					offerMonitoring.topUpDaId                   = this.monitoringData.topUpDaId;
					offerMonitoring.topUpDaBalanceOp            = this.monitoringData.topUpDaBalanceOp || 'lessThan';
					offerMonitoring.topUpDaBalanceValue         = this.monitoringData.topUpDaBalanceValue;
					offerMonitoring.topUpTempServiceClass       = this.monitoringData.topUpTempServiceClass;
					offerMonitoring.daExpiryDateMonitor         = this.daExpiryDateMonitor;
					offerMonitoring.permanentServiceClass       = this.monitoringData.permanentServiceClass;
				} else if (this.eventTypeData === 'Usage') {
					offerMonitoring.usageServiceType            = this.monitoringData.usageServiceType;
					if (this.monitoringData.usageServiceType != 'all') {
						offerMonitoring.usageType         		= this.monitoringData.usageType;
					} else {
						offerMonitoring.usageType         		= $('#usageTypeAll').select2("val").toString()
					}
					offerMonitoring.topUpCurBalanceOp           = this.monitoringData.topUpCurBalanceOp;
					offerMonitoring.topUpCurBalanceValue        = this.monitoringData.topUpCurBalanceValue;
					offerMonitoring.topUpAccBalanceBeforeOp     = this.monitoringData.topUpAccBalanceBeforeOp;
					offerMonitoring.topUpAccBalanceBeforeValue  = this.monitoringData.topUpAccBalanceBeforeValue;
					offerMonitoring.topUpDaId                   = this.monitoringData.topUpDaId;
					offerMonitoring.topUpDaBalanceOp            = this.monitoringData.topUpDaBalanceOp;
					offerMonitoring.topUpDaBalanceValue         = this.monitoringData.topUpDaBalanceValue;
					offerMonitoring.topUpTempServiceClass       = this.monitoringData.topUpTempServiceClass;
					offerMonitoring.imei                        = this.monitoringData.imei;
					offerMonitoring.daChange                    = this.monitoringData.daChange;
					offerMonitoring.chargedAmount               = this.monitoringData.chargedAmount;
					offerMonitoring.daExpiryDateMonitor         = this.daExpiryDateMonitor;
					offerMonitoring.countryCode                 = $('#countryCode').select2("val").toString()
					offerMonitoring.usageOperator               = this.monitoringData.usageOperator;
					offerMonitoring.usageValue                  = this.monitoringData.usageValue;
					offerMonitoring.aggregationPeriodDays       = this.monitoringData.aggregationPeriodDays;
					offerMonitoring.usageUnit                   = this.monitoringData.usageUnit;
					offerMonitoring.roamingFlag                 = this.monitoringData.roamingFlag;
					offerMonitoring.ratePlanId                  = this.monitoringData.ratePlanId;
				} else if (this.eventTypeData === 'ARPU') {
					offerMonitoring.arpuOp                      = this.monitoringData.arpuOp;
					offerMonitoring.arpuType                    = this.monitoringData.arpuType;
					offerMonitoring.arpuSelectedTopUpCode       = this.monitoringData.arpuSelectedTopUpCode;
					offerMonitoring.arpuValue                   = this.monitoringData.arpuValue;
					offerMonitoring.operatorId                  = this.monitoringData.operatorId;
					offerMonitoring.aggregationPeriodDays       = this.monitoringData.aggregationPeriodDays;
				};

				const offerEligibility = {
					"excludeProgramId"  : $('#select2multiple').select2("val").toString()
					// "excludeLastDay"	: this.eligibilityData.excludeLastDay
				};

				if (this.offerLevelType === 'cap-only') {
					offerEligibility.isOfferLevelCapOnly        = true;
					offerEligibility.isOfferLevelCapAndPeriod   = false;
					offerEligibility.offerLevelCapValue         = this.eligibilityData.offerLevelCapValue;
					offerEligibility.offerLevelCapPeriodValue   = null;
					offerEligibility.offerLevelCapPeriodDays    = null;
				} else if (this.offerLevelType === 'cap-period') {
					offerEligibility.isOfferLevelCapOnly        = false;
					offerEligibility.isOfferLevelCapAndPeriod   = true;
					offerEligibility.offerLevelCapValue         = null;
					offerEligibility.offerLevelCapPeriodValue   = this.eligibilityData.offerLevelCapPeriodValue;
					offerEligibility.offerLevelCapPeriodDays    = this.eligibilityData.offerLevelCapPeriodDays;
				} else if (!this.offerLevelType) {
					offerEligibility.isOfferLevelCapOnly        = null;
					offerEligibility.isOfferLevelCapAndPeriod   = null;
					offerEligibility.offerLevelCapValue         = null;
					offerEligibility.offerLevelCapPeriodValue   = null;
					offerEligibility.offerLevelCapPeriodDays    = null;
				}

				if (this.subscriberOfferEligibility === 'freq-only') {
					offerEligibility.isFrequencyOnly   = true;
					offerEligibility.isFrequencyAndTime= false;
					offerEligibility.frequency         = this.eligibilityData.frequency;
					offerEligibility.numberOfFrequency = null;
					offerEligibility.numberOfDays      = null;
				} else if (this.subscriberOfferEligibility === 'freq-timeperiod') {
					offerEligibility.isFrequencyOnly   = false;
					offerEligibility.isFrequencyAndTime= true;
					offerEligibility.frequency         = null;
					offerEligibility.numberOfFrequency = this.eligibilityData.numberOfFrequency;
					offerEligibility.numberOfDays      = this.eligibilityData.numberOfDays;
				} else if (!this.subscriberOfferEligibility) {
					offerEligibility.isFrequencyOnly   = null;
					offerEligibility.isFrequencyAndTime= null;
					offerEligibility.frequency         = null;
					offerEligibility.numberOfFrequency = null;
					offerEligibility.numberOfDays      = null;
				}

				const offerRedemption = {
					"redemptionMethod"          : this.redemptionData.redemptionMethod,
				};
				if (this.totalRedemptionCapRadio === 'redemption-only') {
					offerRedemption.isRedemptionCapOnly         = true;
					offerRedemption.isRedemptionCapAndPeriod    = false;
					offerRedemption.redemptionCapValue          = this.redemptionData.redemptionCapValue;
					offerRedemption.totalRedemptionPeriodValue  = null;
					offerRedemption.totalRedemptionPeriodEvery  = null;
					offerRedemption.totalRedemptionPeriodType   = null;
				} else if (this.totalRedemptionCapRadio === 'redemption-time-period') {
					offerRedemption.isRedemptionCapOnly         = false;
					offerRedemption.isRedemptionCapAndPeriod    = true;
					offerRedemption.redemptionCapValue          = null;
					offerRedemption.totalRedemptionPeriodValue  = this.redemptionData.totalRedemptionPeriodValue;
					offerRedemption.totalRedemptionPeriodEvery  = this.redemptionData.totalRedemptionPeriodEvery;
					offerRedemption.totalRedemptionPeriodType   = this.redemptionData.totalRedemptionPeriodType;
				} else if (!this.totalRedemptionCapRadio) {
					offerRedemption.isRedemptionCapOnly         = null;
					offerRedemption.isRedemptionCapAndPeriod    = null;
					offerRedemption.redemptionCapValue          = null;
					offerRedemption.totalRedemptionPeriodValue  = null;
					offerRedemption.totalRedemptionPeriodEvery  = null;
					offerRedemption.totalRedemptionPeriodType   = null;
				};

				if (this.subscriberRedemptionCapRadio === 'freq-only') {
					offerRedemption.isFrequencyOnly     = true;
					offerRedemption.isFrequencyAndTime  = false;
					offerRedemption.frequencyValue      = this.redemptionData.frequencyValue;
					offerRedemption.timePeriodValue     = null;
					offerRedemption.timePeriodEvery     = null;
					offerRedemption.timePeriodType      = null;
				} else if (this.subscriberRedemptionCapRadio === 'freq-timeperiod') {
					offerRedemption.isFrequencyOnly     = false;
					offerRedemption.isFrequencyAndTime  = true;
					offerRedemption.frequencyValue      = null;
					offerRedemption.timePeriodValue     = this.redemptionData.timePeriodValue;
					offerRedemption.timePeriodEvery     = this.redemptionData.timePeriodEvery;
					offerRedemption.timePeriodType      = this.redemptionData.timePeriodType;
				} else if (!this.subscriberRedemptionCapRadio) {
					offerRedemption.isFrequencyOnly     = null;
					offerRedemption.isFrequencyAndTime  = null;
					offerRedemption.frequencyValue      = null;
					offerRedemption.timePeriodValue     = null;
					offerRedemption.timePeriodEvery     = null;
					offerRedemption.timePeriodType      = null;
				};

				if (this.redemptionMethod === 'Auto') {
					offerRedemption.redemptionMethod        = 'Auto';
					offerRedemption.postSmsCampaignName     = this.redemptionData.postSmsCampaignName;
					offerRedemption.dynamicVariable1        = this.redemptionData.dynamicVariable1;
					offerRedemption.dynamicVariable2        = this.redemptionData.dynamicVariable2;
					offerRedemption.dynamicVariable3        = this.redemptionData.dynamicVariable3;
					offerRedemption.dynamicVariable4        = this.redemptionData.dynamicVariable4;
					offerRedemption.dynamicVariable5        = this.redemptionData.dynamicVariable5;
				} else if (this.redemptionMethod === 'Manual') {
					offerRedemption.redemptionMethod    = 'Manual';
					offerRedemption.smsCampaignName     = this.redemptionData.smsCampaignName;
					offerRedemption.optKeyword          = this.redemptionData.optKeyword;
					offerRedemption.postSmsCampaignName = this.redemptionData.postSmsCampaignName;
					offerRedemption.smsCampaignName     = this.redemptionData.smsCampaignName;
					offerRedemption.dynamicVariable1    = this.redemptionData.dynamicVariable1;
					offerRedemption.dynamicVariable2    = this.redemptionData.dynamicVariable2;
					offerRedemption.dynamicVariable3    = this.redemptionData.dynamicVariable3;
					offerRedemption.dynamicVariable4    = this.redemptionData.dynamicVariable4;
					offerRedemption.dynamicVariable5    = this.redemptionData.dynamicVariable5;
					if (this.redemptionOptKeywordRadio === 'date-range') {
						offerRedemption.dateRange       = true;
						offerRedemption.optStartDate    = this.redemptionData.optStartDate;
						offerRedemption.optEndDate      = this.redemptionData.optEndDate;
						offerRedemption.period          = null;
						offerRedemption.optPeriod       = null;
					} else if (this.redemptionOptKeywordRadio === 'period-only') {
						offerRedemption.dateRange       = false;
						offerRedemption.optStartDate    = null;
						offerRedemption.optEndDate      = null;
						offerRedemption.period          = this.redemptionData.period;
						offerRedemption.optPeriod       = this.redemptionData.optPeriod;
					}
				}
				if (this.recurringProvisioning === 'yes') {
					offerRedemption.recurringProvisioning       = true;
					offerRedemption.isRedemptionCapOnly         = false;
					offerRedemption.isRedemptionCapAndPeriod    = false;
					offerRedemption.redemptionCapValue          = null;
					offerRedemption.totalRedemptionPeriodValue  = null;
					offerRedemption.totalRedemptionPeriodEvery  = null;
					offerRedemption.totalRedemptionPeriodType   = null;
					offerRedemption.isFrequencyOnly             = false;
					offerRedemption.isFrequencyAndTime          = false;
					offerRedemption.frequencyValue              = null;
					offerRedemption.timePeriodValue             = null;
					offerRedemption.timePeriodEvery             = null;
					offerRedemption.timePeriodType              = null;
					offerRedemption.totalRecurringFrequency     = null;
				} else if (this.recurringProvisioning === 'no') {
					offerRedemption.recurringProvisioning       = false;
				}

				if (this.recurringRedemptionRadio === 'req-day') {
					offerRedemption.isRecurringFrequencyAndPeriod   = true;
					offerRedemption.isRecurringFrequencyEachMonth   = false;
					// offerRedemption.recurringFrequencyValue         = this.redemptionData.recurringFrequencyValue;
					offerRedemption.recurringFrequencyValue         = '1';
					offerRedemption.recurringFrequencyPeriodValue   = this.redemptionData.recurringFrequencyPeriodValue;
					offerRedemption.recurringFrequencyDayOfMonth    = null;
					offerRedemption.totalRecurringFrequency         = this.redemptionData.totalRecurringFrequency;
				} else if (this.recurringRedemptionRadio === 'req-month') {
					offerRedemption.isRecurringFrequencyAndPeriod   = false;
					offerRedemption.isRecurringFrequencyEachMonth   = true;
					offerRedemption.recurringFrequencyValue         = null;
					offerRedemption.recurringFrequencyPeriodValue   = null;
					offerRedemption.recurringFrequencyDayOfMonth    = this.redemptionData.recurringFrequencyDayOfMonth;
					offerRedemption.totalRecurringFrequency         = this.redemptionData.totalRecurringFrequency;
				}

				const prepaidCxOfferAdvanceFilter = {
					"offerConfigId":INSTANCE_ID,
					"payloadList": advanceFilter.mainData,
					"payload":'',
					"queryText": advanceFilter.generatedQuery,
					"customQuery": false,
					"id": null,
				}

				if(this.offerTypeDropdown !== 'MA'){
					var request = { "amsAction" : "save", "requestId" : "save",
						"payload": {
							"type": this.type,
							"uuid": INSTANCE_ID,
							"offerSelection": JSON.parse(JSON.stringify(this.offers)).map(item => {
								if('MA' !== this.offerTypeDropdown) {
									return {
										offerBucketId       : item.offerBucketId,
										offerBucketType     : item.offerBucketType,
										offerCampaignId     : item.offerCampaignId,
										offerCampaignName   : item.offerCampaignName,
										offerType           : item.offerBucketType,
									}
								}else {
									return {}
								}
							}),
							"offerPromoCode":
									{
										"promoCodeList"     : $('#promoCodeMultiple').select2("val").toString(),
										"messageText1"      : this.offerSelectionDynamic1,
										"messageText2"      : this.offerSelectionDynamic2,
										"messageText3"      : this.offerSelectionDynamic3,
										"messageText4"      : this.offerSelectionDynamic4,
										"offerType"         : 'PROMO',
										"overallOfferName"  : this.overallOfferName,
										"smsCampaignName"   : this.offerSelectionSmsCampaignName
									},
							"offerNoneType":
									{
										"offerType"         : this.offerTypeDropdown,
										"overallOfferName"  : this.overallOfferName
									},
							"offerMaType": JSON.parse(JSON.stringify(this.offers)).map(item => {
								return {
									offerCampaignId     : item.id,
									offerCampaignName   : item.productName,
									offerType           : this.offerTypeDropdown,
									"overallOfferName"  : this.overallOfferName,
								}
							}),
							offerEventCondition,
							offerEligibility,
							offerMonitoring,
							offerRedemption,
							prepaidCxOfferAdvanceFilter,
						},
						"notification": "true"
					};
				}else {
					var request = { "amsAction" : "save", "requestId" : "save",
						"payload": {
							"type": this.type,
							"uuid": INSTANCE_ID,
							"offerSelection": [],
							"offerPromoCode":
									{
										"promoCodeList"     : $('#promoCodeMultiple').select2("val").toString(),
										"messageText1"      : this.offerSelectionDynamic1,
										"messageText2"      : this.offerSelectionDynamic2,
										"messageText3"      : this.offerSelectionDynamic3,
										"messageText4"      : this.offerSelectionDynamic4,
										"offerType"         : 'PROMO',
										"overallOfferName"  : this.overallOfferName,
										"smsCampaignName"   : this.offerSelectionSmsCampaignName
									},
							"offerNoneType":
									{
										"offerType"         : this.offerTypeDropdown,
										"overallOfferName"  : this.overallOfferName
									},
							"offerMaType": JSON.parse(JSON.stringify(this.offers)).map(item => {
								return {
									offerCampaignId     : item.id,
									offerCampaignName   : item.productName,
									offerType           : this.offerTypeDropdown,
									"overallOfferName"  : this.overallOfferName,
								}
							}),
							offerEventCondition,
							offerEligibility,
							offerMonitoring,
							offerRedemption,
							prepaidCxOfferAdvanceFilter,
						},
						"notification": "true"
					};
				}

				if (!this.overallOfferName && this.type != 'eventCondition') {
					swal("Error!", "You have to Fill-in Overall Offer Name in the Offer Selection", "error");
				} else if (!this.campaignStartDate || !this.campaignEndDate) {
					swal("Error!", "Event Fulfillment Date Can Not be Null", "error");
				} else if(!this.eventConditionName && this.type == 'eventConditionDirectProvisioning' || !this.eventConditionName && this.type == 'eventCondition') {
					swal("Error!", "Event Condition Name Can Not be Null", "error");
				} else {
					window.parent.postMessage(request,'*');
				}

			},
		};
	}


</script>
<!--AlpineJS END-->





</body>
</html>
